<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pkl 0.30 Release Notes :: Pkl Docs</title>
    <link rel="canonical" href="https://pkl-lang.org/main/current/release-notes/0.30.html">
    <link rel="prev" href="index.html">
    <link rel="next" href="0.29.html">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="../../../_/css/site-extra.css">
<link rel="stylesheet" href="../../../_/css/search.css">
<link rel="stylesheet" href="../../../_/css/vendor/tabs.css">
<link rel="icon" type="image/svg+xml" href="../../../_/img/favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="../../../index.html"><img src="../../../_/img/favicon.svg" alt="Pkl" height="35" width="35"/></a>
        <a href="../../../index.html">Pkl</a>
        <span class="separator">//</span>
        <a href="../../../main/current/index.html">Docs</a>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
          <span></span>
          <span></span>
          <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Enter Search Term">
        </div>
      </div>
      <div class="navbar-end">
        <a class="navbar-item" href="../../../main/current/index.html">Language</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a href="../../../main/current/language-bindings.html" class="navbar-link">Bindings</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../main/current/java-binding/index.html">Java</a>
            <a class="navbar-item" href="../../../main/current/kotlin-binding/index.html">Kotlin</a>
            <a class="navbar-item" href="../../../swift/current/index.html">Swift</a>
            <a class="navbar-item" href="../../../go/current/index.html">Go</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a href="../../../main/current/integrations.html" class="navbar-link">Frameworks</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../spring/current/index.html">Spring (Boot)</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a href="../../../main/current/tools.html" class="navbar-link">Editors</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../intellij/current/index.html">IntelliJ</a>
            <a class="navbar-item" href="../../../neovim/current/index.html">Neovim</a>
            <a class="navbar-item" href="../../../vscode/current/index.html">VS Code</a>
            <a class="navbar-item" href="../../../lsp/current/index.html">Pkl Language Server</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a href="../../../main/current/resources.html" class="navbar-link">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/apple/pkl">GitHub</a>
            <a class="navbar-item" href="https://pkl-lang.org/package-docs/pkl/current/index.html">Standard Library</a>
            <a class="navbar-item" href="https://pkl-lang.org/package-docs/">Package Docs</a>
            <a class="navbar-item" href="../../../main/current/style-guide/index.html">Style Guide</a>
            <a class="navbar-item" href="../../../security.html">Security</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a href="../../../main/current/community.html" class="navbar-link">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/apple/pkl/discussions" target="_blank">GitHub Discussions</a>
            <a class="navbar-item" href="../../../blog/index.html">Blog</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="main" data-version="0.30.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Main Project</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction/index.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/use-cases.html">Use Cases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/concepts.html">Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/comparison.html">Comparison</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pkl-cli/index.html#installation">Installation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../language-tutorial/index.html">Tutorial</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../language-tutorial/01_basic_config.html">Basic Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../language-tutorial/02_filling_out_a_template.html">Filling out a Template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../language-tutorial/03_writing_a_template.html">Writing a Template</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../language.html">Language</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../language-reference/index.html">Language Reference</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../standard-library.html">Standard Library</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../language-bindings.html">Language Bindings</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../java-binding/index.html">Java</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../java-binding/codegen.html">Code Generator</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../pkl-core/index.html">pkl-core Library</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../java-binding/pkl-config-java.html">pkl-config-java Library</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../kotlin-binding/index.html">Kotlin</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kotlin-binding/codegen.html">Code Generator</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kotlin-binding/pkl-config-kotlin.html">pkl-config-kotlin Library</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../swift/current/index.html">Swift</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../go/current/index.html">Go</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../bindings-specification/index.html">Specification</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../bindings-specification/message-passing-api.html">Message Passing API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../bindings-specification/binary-encoding.html">Pkl Binary Encoding</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tools.html">Tools</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../pkl-cli/index.html">CLI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../pkl-doc/index.html">Pkldoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../pkl-gradle/index.html">Gradle Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Editor support</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../intellij/current/index.html">IntelliJ</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../vscode/current/index.html">VSCode</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../neovim/current/index.html">Neovim</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../evolution-and-roadmap.html">Evolution and Roadmap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Release Notes</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="0.30.html">0.30 Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="0.29.html">0.29 Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="0.28.html">0.28 Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="0.27.html">0.27 Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="0.26.html">0.26 Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="0.25.html">0.25 Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="changelog.html">Changelog</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Main Project</span>
    <span class="version">0.30.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../intellij/current/index.html">IntelliJ Plugin</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../intellij/current/index.html">0.33.0</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.32.0/index.html">0.32.0</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.31.1/index.html">0.31.1</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.30.1/index.html">0.30.1</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.29.0/index.html">0.29.0</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.28.0/index.html">0.28.0</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.27.0/index.html">0.27.0</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.26.0/index.html">0.26.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Main Project</a></div>
      <ul class="versions">
        <li class="version">
          <a href="../../latest/index.html">0.31.0-dev</a>
        </li>
        <li class="version is-current is-latest">
          <a href="../index.html">0.30.0</a>
        </li>
        <li class="version">
          <a href="../../0.29.1/index.html">0.29.1</a>
        </li>
        <li class="version">
          <a href="../../0.28.2/index.html">0.28.2</a>
        </li>
        <li class="version">
          <a href="../../0.27.2/index.html">0.27.2</a>
        </li>
        <li class="version">
          <a href="../../0.26.3/index.html">0.26.3</a>
        </li>
        <li class="version">
          <a href="../../0.25.3/index.html">0.25.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../neovim/current/index.html">Neovim Plugin</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../neovim/current/index.html">0.6.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../blog/index.html">Pkl Blog</a></div>
    </li>
    <li class="component">
      <div class="title"><a href="../../../go/current/index.html">Pkl Go Bindings</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../go/current/index.html">0.11.1</a>
        </li>
        <li class="version">
          <a href="../../../go/0.10.0/index.html">0.10.0</a>
        </li>
        <li class="version">
          <a href="../../../go/0.9.0/index.html">0.9.0</a>
        </li>
        <li class="version">
          <a href="../../../go/0.8.0/index.html">0.8.0</a>
        </li>
        <li class="version">
          <a href="../../../go/0.7.0/index.html">0.7.0</a>
        </li>
        <li class="version">
          <a href="../../../go/0.6.0/index.html">0.6.0</a>
        </li>
        <li class="version">
          <a href="../../../go/0.5.3/index.html">0.5.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../lsp/current/index.html">Pkl Language Server</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lsp/current/index.html">0.5.1</a>
        </li>
        <li class="version">
          <a href="../../../lsp/0.4.0/index.html">0.4.0</a>
        </li>
        <li class="version">
          <a href="../../../lsp/0.3.2/index.html">0.3.2</a>
        </li>
        <li class="version">
          <a href="../../../lsp/0.2.0/index.html">0.2.0</a>
        </li>
        <li class="version">
          <a href="../../../lsp/0.1.2/index.html">0.1.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../swift/current/index.html">Pkl Swift Bindings</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../swift/current/index.html">0.6.0</a>
        </li>
        <li class="version">
          <a href="../../../swift/0.5.0/index.html">0.5.0</a>
        </li>
        <li class="version">
          <a href="../../../swift/0.4.2/index.html">0.4.2</a>
        </li>
        <li class="version">
          <a href="../../../swift/0.3.0/index.html">0.3.0</a>
        </li>
        <li class="version">
          <a href="../../../swift/0.2.3/index.html">0.2.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../index.html">ROOT</a></div>
    </li>
    <li class="component">
      <div class="title"><a href="../../../spring/current/index.html">Spring Boot Integration</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring/current/index.html">0.17.1</a>
        </li>
        <li class="version">
          <a href="../../../spring/0.16.0/index.html">0.16.0</a>
        </li>
        <li class="version">
          <a href="../../../spring/0.15.0/index.html">0.15.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../vscode/current/index.html">VS Code Extension</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../vscode/current/index.html">0.20.0</a>
        </li>
        <li class="version">
          <a href="../../../vscode/0.19.0/index.html">0.19.0</a>
        </li>
        <li class="version">
          <a href="../../../vscode/0.18.2/index.html">0.18.2</a>
        </li>
        <li class="version">
          <a href="../../../vscode/0.17.0/index.html">0.17.0</a>
        </li>
        <li class="version">
          <a href="../../../vscode/0.16.0/index.html">0.16.0</a>
        </li>
        <li class="version">
          <a href="../../../vscode/0.11.0/index.html">0.11.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Main Project</a></li>
    <li><a href="index.html">Release Notes</a></li>
    <li><a href="0.30.html">0.30 Release Notes</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">0.30.0</button>
  <div class="version-menu">
    <a class="version" href="../../latest/release-notes/0.30.html">0.31.0-dev</a>
    <a class="version is-current" href="0.30.html">0.30.0</a>
    <a class="version is-missing" href="../../0.29.1/index.html">0.29.1</a>
    <a class="version is-missing" href="../../0.28.2/index.html">0.28.2</a>
    <a class="version is-missing" href="../../0.27.2/index.html">0.27.2</a>
    <a class="version is-missing" href="../../0.26.3/index.html">0.26.3</a>
    <a class="version is-missing" href="../../0.25.3/index.html">0.25.3</a>
  </div>
</div>
<div class="edit-this-page"><a href="https://github.com/apple/pkl/edit/release/0.30/docs/modules/release-notes/pages/0.30.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Page Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Pkl 0.30 Release Notes</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Pkl 0.30 was released on November 3rd, 2025.<br>
<span class="small">The latest bugfix release is 0.30.0. (<a href="changelog.html" class="xref page">All Versions</a>)</span></p>
</div>
<div class="paragraph">
<p>This release introduces a code formatter, and an in-language API for producing <code>pkl-binary</code> output.</p>
</div>
<div class="paragraph">
<p>The next release (0.31) is scheduled for February 2026.
To see what&#8217;s coming in the future, follow the <a href="https://github.com/orgs/apple/projects/12/views/1">Pkl Roadmap</a>.</p>
</div>
<div class="paragraph">
<p>Please send feedback and questions to <a href="https://github.com/apple/pkl/discussions">GitHub Discussions</a>, or submit an issue on <a href="https://github.com/apple/pkl/issues/new">GitHub</a>.<br></p>
</div>
<div class="paragraph">
<p><span class="small">Pkl is hosted on <a href="https://github.com/apple/pkl">GitHub</a>.
To get started, follow <a href="../pkl-cli/index.html#installation" class="xref page">Installation</a>.</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="highlights"><a class="anchor" href="#highlights"></a><a class="link" href="#highlights">Highlights <span class="small">ðŸ’–</span></a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="formatter"><a class="anchor" href="#formatter"></a><a class="link" href="#formatter">Formatter</a></h3>
<div class="paragraph">
<p>Pkl now has a formatter (<a href="https://github.com/apple/pkl/pull/1107">#1107</a>, <a href="https://github.com/apple/pkl/pull/1208">#1208</a>, <a href="https://github.com/apple/pkl/pull/1211">#1211</a>, <a href="https://github.com/apple/pkl/pull/1215">#1215</a>, <a href="https://github.com/apple/pkl/pull/1217">#1217</a>, <a href="https://github.com/apple/pkl/pull/1235">#1235</a>, <a href="https://github.com/apple/pkl/pull/1246">#1246</a>, <a href="https://github.com/apple/pkl/pull/1247">#1247</a>, <a href="https://github.com/apple/pkl/pull/1252">#1252</a>, <a href="https://github.com/apple/pkl/pull/1256">#1256</a>, <a href="https://github.com/apple/pkl/pull/1259">#1259</a>, <a href="https://github.com/apple/pkl/pull/1260">#1260</a>, <a href="https://github.com/apple/pkl/pull/1263">#1263</a>, <a href="https://github.com/apple/pkl/pull/1265">#1265</a>, <a href="https://github.com/apple/pkl/pull/1266">#1266</a>, <a href="https://github.com/apple/pkl/pull/1267">#1267</a>, <a href="https://github.com/apple/pkl/pull/1268">#1268</a>, <a href="https://github.com/apple/pkl/pull/1270">#1270</a>, <a href="https://github.com/apple/pkl/pull/1271">#1271</a>, <a href="https://github.com/apple/pkl/pull/1272">#1272</a>, <a href="https://github.com/apple/pkl/pull/1273">#1273</a>, <a href="https://github.com/apple/pkl/pull/1274">#1274</a>, <a href="https://github.com/apple/pkl/pull/1280">#1280</a>, <a href="https://github.com/apple/pkl/pull/1283">#1283</a>, <a href="https://github.com/apple/pkl/pull/1289">#1289</a>, <a href="https://github.com/apple/pkl/pull/1290">#1290</a>)!</p>
</div>
<div class="paragraph">
<p>Pkl&#8217;s formatter is <em>canonical</em>, which means that it has a single set of formatting rules, with (almost) no configuration options.
The goal is to eliminate the possibility of formatting debates, which can lead to churn and bike-shedding.</p>
</div>
<div class="paragraph">
<p>The formatter is available both as a CLI subcommand and as a Java API.</p>
</div>
<div class="paragraph">
<p>To learn more about this feature, consult <a href="https://github.com/apple/pkl-evolution/blob/main/spices/SPICE-0014-canonical-formatter.adoc">SPICE-0014</a>.</p>
</div>
<div class="sect3">
<h4 id="using-the-cli"><a class="anchor" href="#using-the-cli"></a><a class="link" href="#using-the-cli">Using the CLI</a></h4>
<div class="paragraph">
<p>The Pkl formatter is available under the <code>pkl format</code> subcommand. By default, the command will concatenate and write all formatted content to standard out.</p>
</div>
<div class="paragraph">
<p>To simply check for formatting violations, getting formatted output on stdout is likely too verbose.
The <code>--silent</code> flag can be used to omit any output, and the <a href="#formatting-exit-codes">exit code</a> can be used to determine
if there are formatting violations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">pkl format --silent . || echo "Formatting violations were found!"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, the <code>--names</code> flag will print out the names of any files that have formatting violations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">pkl format --diff-name-only .</code></pre>
</div>
</div>
<div class="paragraph">
<p>To apply formatting, use the <code>--write</code> (<code>-w</code>) flag.
This also implies the <code>--diff-name-only</code> flag.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">pkl format -w .</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="formatting-exit-codes"><a class="anchor" href="#formatting-exit-codes"></a><a class="link" href="#formatting-exit-codes">Exit codes</a></h4>
<div class="paragraph">
<p>The formatter will exit with the following codes:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No formatting violations were found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-formatting errors occurred.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formatting violations were found.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="grammar-version"><a class="anchor" href="#grammar-version"></a><a class="link" href="#grammar-version">Grammar version</a></h4>
<div class="paragraph">
<p>The formatter can be configured with a <em>grammar version</em>, which maps to a Pkl version range.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Grammar version</th>
<th class="tableblock halign-left valign-top">Pkl versions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25 - 0.29</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30+</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Grammar version 2 uses the newly introduced <a href="#trailing-commas">trailing commas</a> feature, and therefore is not compatible with existing versions of Pkl.
To ensure compatibility, use the <code>--grammar-version 1</code> CLI flag.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="binary-renderer-parser"><a class="anchor" href="#binary-renderer-parser"></a><a class="link" href="#binary-renderer-parser"><code>pkl-binary</code> in-language Renderer</a></h3>
<div class="paragraph">
<p>A new in-language API has been added to render values into <a href="../bindings-specification/binary-encoding.html" class="xref page">pkl-binary encoding</a> (<a href="https://github.com/apple/pkl/pull/1203">#1203</a>,
<a href="https://github.com/apple/pkl/pull/1250">#1250</a>, <a href="https://github.com/apple/pkl/pull/1275">#1275</a>).</p>
</div>
<div class="paragraph">
<p>It&#8217;s sometimes useful to separate Pkl evaluation from data consumption when used as application or service configuration.
This is possible with the <code>pkl-binary</code> format, which is a lossless encoding of Pkl data.</p>
</div>
<div class="paragraph">
<p>In this approach, Pkl is first rendered into <code>pkl-binary</code> during build time, and then deserialized into classes and structs at startup time.
This means that the Pkl evaluator does not need to be shipped with the application, which improves code portability and eliminates runtime overhead.</p>
</div>
<div class="paragraph">
<p>However, currently, the API for getting this binary format is somewhat cumbersome.
Only the host languages have access to this API (for example, <a href="https://swiftpackageindex.com/apple/pkl-swift/0.6.0/documentation/pklswift/evaluator/evaluateexpressionraw(source:expression:)"><code>evaluateExpressionRaw</code></a> in pkl-swift).
This means that one-off logic must be written to render this format in the host language.</p>
</div>
<div class="paragraph">
<p>In 0.30, this renderer is added as an in-language API, through the <a href="https://pkl-lang.org/package-docs/pkl/0.30.0/pklbinary"><code>pkl:pklbinary</code></a> standard library module.
Additionally, it is available through CLI flag <code>--format pkl-binary</code>.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-pkl hljs" data-lang="pkl"><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;pkl:pklbinary&quot;</span>

<span class="hljs-property">output</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-property">renderer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-property">pklbinary</span><span class="hljs-punctuation">.</span><span class="hljs-title class_">Renderer</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To learn more about this feature, consult <a href="https://github.com/apple/pkl-evolution/blob/main/spices/SPICE-0021-binary-renderer-and-parser.adoc">SPICE-0021</a>.</p>
</div>
<div class="sect3">
<h4 id="new-renderer-type-bytesrenderer"><a class="anchor" href="#new-renderer-type-bytesrenderer"></a><a class="link" href="#new-renderer-type-bytesrenderer">New renderer type: <code>BytesRenderer</code></a></h4>
<div class="paragraph">
<p>To enable the <code>pkl-binary</code> renderer feature, Pkl now supports renderers that produce <code>Bytes</code> output (<a href="https://github.com/apple/pkl/pull/1203">#1203</a>).</p>
</div>
<div class="paragraph">
<p>The existing <code>ValueRenderer</code> class now extends new class <code>BaseValueRenderer</code>, and a new <code>BytesRenderer</code> class is introduced.</p>
</div>
<div class="paragraph">
<p>Setting a module&#8217;s output renderer to a <code>BytesRenderer</code> will control its resulting <code>output.bytes</code>.</p>
</div>
<div class="paragraph">
<p>This affects usage scenarios where a module&#8217;s <code>output.bytes</code> is evaluated, for example, when using <code>pkl eval</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="using-pkl-binary-data"><a class="anchor" href="#using-pkl-binary-data"></a><a class="link" href="#using-pkl-binary-data">Using <code>pkl-binary</code> data</a></h4>
<div class="paragraph">
<p>Users of Pkl&#8217;s language binding libraries can decode <code>pkl-binary</code> data into instances of code-generated types.</p>
</div>
<div id="tabs-1" class="openblock tabs is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="tabs-1-java" class="tab">
<p>Java</p>
</li>
<li id="tabs-1-kotlin" class="tab">
<p>Kotlin</p>
</li>
<li id="tabs-1-go" class="tab">
<p>Go</p>
</li>
<li id="tabs-1-swift" class="tab">
<p>Swift</p>
</li>
</ul>
</div>
<div id="tabs-1-java--panel" class="tabpanel" aria-labelledby="tabs-1-java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">var encodedData = fetchEncodedData(); // some byte[] or InputStream
var config = Config.fromPklBinary(encodedData);
var appConfig = config.as(AppConfig.class);</code></pre>
</div>
</div>
</div>
<div id="tabs-1-kotlin--panel" class="tabpanel" aria-labelledby="tabs-1-kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">val encodedData = fetchEncodedData() // some ByteArray or InputStream
val config = Config.fromPklBinary(encodedData, ValueMapper.preconfigured().forKotlin())
val appConfig = config.to&lt;AppConfig&gt;()</code></pre>
</div>
</div>
</div>
<div id="tabs-1-go--panel" class="tabpanel" aria-labelledby="tabs-1-go">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-go hljs" data-lang="go">encodedData := fetchEncodedData() // some []byte
var appConfig AppConfig
if err := pkl.Unmarshal(encodedData, &amp;appConfig); err != nil {
  // handle error
}</code></pre>
</div>
</div>
</div>
<div id="tabs-1-swift--panel" class="tabpanel" aria-labelledby="tabs-1-swift">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">let encodedData = fetchEncodedData() // some [UInt8]
let appConfig = try PklDecoder.decode(AppConfig.self, from: encodedData)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="noteworthy"><a class="anchor" href="#noteworthy"></a><a class="link" href="#noteworthy">Noteworthy <span class="small">ðŸŽ¶</span></a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="trailing-commas"><a class="anchor" href="#trailing-commas"></a><a class="link" href="#trailing-commas">Trailing Commas</a></h3>
<div class="paragraph">
<p>Pkl&#8217;s grammar has been updated to allow including a comma following the final item of comma-separated syntax elements (<a href="https://github.com/apple/pkl/pull/1137">#1137</a>).</p>
</div>
<div class="paragraph">
<p>These syntax elements are affected:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-pkl hljs" data-lang="pkl"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span><span class="hljs-punctuation">(</span>
  <span class="hljs-params">bar</span><span class="hljs-punctuation">,</span>
  <span class="hljs-params">baz</span><span class="hljs-punctuation">,</span><span class="hljs-params"></span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="hljs-punctuation">)</span> <span class="hljs-operator">=</span> <span class="hljs-params">bar</span> <span class="hljs-operator">+</span> <span class="hljs-params">baz</span>

<span class="hljs-property">foo</span> <span class="hljs-operator">=</span> <span class="hljs-title function_ invoke__">add</span><span class="hljs-punctuation">(</span>
  <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-number">2</span><span class="hljs-punctuation">,</span><span class="hljs-property"></span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="hljs-punctuation">)</span>

<span class="hljs-keyword">typealias</span> <span class="hljs-title class_">MyMapping</span><span class="hljs-operator">&lt;</span>
  <span class="hljs-title class_">Key</span><span class="hljs-punctuation">,</span>
  <span class="hljs-title class_">Value</span><span class="hljs-punctuation">,</span><span class="hljs-property"></span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="hljs-operator">&gt;</span> <span class="hljs-operator">=</span> <span class="hljs-title class_">Mapping</span><span class="hljs-punctuation">&lt;</span><span class="hljs-title class_">Key</span><span class="hljs-punctuation">,</span> <span class="hljs-title class_">Value</span><span class="hljs-punctuation">&gt;</span>

<span class="hljs-property">bar</span><span class="hljs-punctuation">:</span> <span class="hljs-title class_">Mapping</span><span class="hljs-punctuation">&lt;</span>
  <span class="hljs-title class_">String</span><span class="hljs-punctuation">,</span>
  <span class="hljs-title class_">Int</span><span class="hljs-punctuation">,</span><span class="hljs-property"></span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="hljs-punctuation">&gt;</span>

<span class="hljs-property">baz</span><span class="hljs-punctuation">:</span> <span class="hljs-title class_">Mapping</span><span class="hljs-punctuation">(</span>
  <span class="hljs-operator">!</span><span class="hljs-title function_ invoke__">containsKey</span><span class="hljs-punctuation">(</span><span class="hljs-string">&quot;forbidden key&quot;</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span>
  <span class="hljs-operator">!</span><span class="hljs-title function_ invoke__">containsKey</span><span class="hljs-punctuation">(</span><span class="hljs-string">&quot;forbidden value&quot;</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span><span class="hljs-property"></span> <i class="conum" data-value="5"></i><b>(5)</b>
<span class="hljs-punctuation">)</span>

<span class="hljs-property">qux</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">(</span>
  <span class="hljs-title class_">String</span><span class="hljs-punctuation">,</span>
  <span class="hljs-title class_">Int</span><span class="hljs-punctuation">,</span><span class="hljs-property"></span> <i class="conum" data-value="6"></i><b>(6)</b>
<span class="hljs-punctuation">)</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-title class_">Dynamic</span> <span class="hljs-operator">=</span>
  <span class="hljs-punctuation">(</span><span class="hljs-params">paramA</span><span class="hljs-punctuation">,</span> <span class="hljs-params">paramB</span><span class="hljs-punctuation">)</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dynamic</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-property">quux</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;<span class="hljs-subst"><span class="hljs-char escape_">\(</span><span class="hljs-params">paramA</span><span class="hljs-char escape_">)</span></span>: <span class="hljs-subst"><span class="hljs-char escape_">\(</span><span class="hljs-params">paramB</span><span class="hljs-char escape_">)</span></span>&quot;</span>
  <span class="hljs-punctuation">}</span>

<span class="hljs-property">corge</span> <span class="hljs-operator">=</span> <span class="hljs-punctuation">(</span><span class="hljs-property">qux</span><span class="hljs-punctuation">)</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-params">paramA</span><span class="hljs-punctuation">,</span>
  <span class="hljs-params">paramB</span><span class="hljs-punctuation">,</span><span class="hljs-params"></span> <i class="conum" data-value="7"></i><b>(7)</b>
  <span class="hljs-punctuation">-&gt;</span>
  <span class="hljs-property">grault</span> <span class="hljs-operator">=</span> <span class="hljs-params">paramA</span><span class="hljs-punctuation">.</span><span class="hljs-property">length</span> <span class="hljs-operator">*</span> <span class="hljs-params">paramB</span>
<span class="hljs-punctuation">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Function parameter lists in method definitions.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Argument lists in method calls.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Type parameter lists in generic type definitions.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Type argument lists in type annotations and casts.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Type constraint lists.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Function type parameter lists in function type annotations.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Object body parameter lists.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To learn more about this change, consult <a href="https://github.com/apple/pkl-evolution/blob/main/spices/SPICE-0019-trailing-commas.adoc">SPICE-0019</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="pretty-printed-traces"><a class="anchor" href="#pretty-printed-traces"></a><a class="link" href="#pretty-printed-traces">Pretty-printed traces</a></h3>
<div class="paragraph">
<p>A new evaluator option is added to enable pretty-printed traces (<a href="https://github.com/apple/pkl/pull/1100">#1100</a>, <a href="https://github.com/apple/pkl/pull/1227">#1227</a>, <a href="https://github.com/apple/pkl/pull/1230">#1230</a>).</p>
</div>
<div class="paragraph">
<p>Currently, the <code>trace()</code> operator will render values as a single line, and trims the output after 100 characters.
This can obscure information when debugging.</p>
</div>
<div class="paragraph">
<p>In 0.30, a new evaluator option is added to control how traces are emitted.
Two trace modes are introduced:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>compact</code> - the current output mode (default).</p>
</li>
<li>
<p><code>pretty</code> - multiline, with no limit on output size.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, users of the CLI can specify <code>--trace-mode</code> as a flag.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">pkl eval --trace-mode pretty myModule.pkl</code></pre>
</div>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/ssalevan">@ssalevan</a> for their contribution to this feature!</p>
</div>
</div>
<div class="sect2">
<h3 id="better-support-for-bytes-when-rendering-yaml"><a class="anchor" href="#better-support-for-bytes-when-rendering-yaml"></a><a class="link" href="#better-support-for-bytes-when-rendering-yaml">Better support for <code>Bytes</code> when rendering YAML</a></h3>
<div class="paragraph">
<p>Previously, attempting to render a <code>Bytes</code> value using <a href="https://pkl-lang.org/package-docs/pkl/0.30.0/base/YamlRenderer"><code>YamlRenderer</code></a> required the use of a <a href="https://pkl-lang.org/package-docs/pkl/0.30.0/base/PcfRenderer#converters">converter</a>.
Now, Pkl can natively render YAML containing <a href="https://yaml.org/type/binary.html">binary scalars</a> (<a href="https://github.com/apple/pkl/pull/1276">#1276</a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-pkl%tested hljs" data-lang="pkl%tested">foo {
  bar = Bytes(1, 2, 3)
}

rendered = new YamlRenderer {}.renderValue(foo) <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Result: <code>bar: !!binary AQID</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Similarly, <a href="https://pkl-lang.org/package-docs/pkl/0.30.0/yaml/Parser"><code>yaml.Parser</code></a> now parses binary YAML values as Pkl <a href="https://pkl-lang.org/package-docs/pkl/0.30.0/base/Bytes"><code>Bytes</code></a> values (<a href="https://github.com/apple/pkl/pull/1277">#1277</a>).
This is a breaking change; previously these values were parsed as <a href="https://pkl-lang.org/package-docs/pkl/0.30.0/base/String"><code>String</code></a> value containing the base64-encoded binary data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-pkl%tested hljs" data-lang="pkl%tested">import "pkl:yaml"

yamlData =
  """
  bytes: !!binary AQID
  """

parsed = new yaml.Parser {}.parse(yamlData).bytes <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Result: <code>Bytes(1, 2, 3)</code></td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="pkldoc-perf-improvements"><a class="anchor" href="#pkldoc-perf-improvements"></a><a class="link" href="#pkldoc-perf-improvements"><code>pkldoc</code> performance improvements</a></h3>
<div class="paragraph">
<p>The <code>pkldoc</code> documentation generator has been overhauled (<a href="https://github.com/apple/pkl/pull/1169">#1169</a>, <a href="https://github.com/apple/pkl/pull/1224">#1224</a>, <a href="https://github.com/apple/pkl/pull/1241">#1241</a>, <a href="https://github.com/apple/pkl/pull/1242">#1242</a>).</p>
</div>
<div class="paragraph">
<p>Currently, the <code>pkldoc</code> tool needs to consume much of an existing documentation website whenever generating new documentation.
This adds significant I/O overhead as a pkldoc documentation website grows.</p>
</div>
<div class="paragraph">
<p>The generator has been overhauled to minimize the amount of data needed to be read from the current site.</p>
</div>
<div class="paragraph">
<p>To read more about this change, consult <a href="https://github.com/apple/pkl-evolution/blob/main/spices/SPICE-0018-pkldoc-io-improvements.adoc">SPICE-0018</a>.</p>
</div>
<div class="sect3">
<h4 id="pkldoc-migration"><a class="anchor" href="#pkldoc-migration"></a><a class="link" href="#pkldoc-migration">Migration</a></h4>
<div class="paragraph">
<p>The new pkldoc website introduces breaking changes to the data model.
Because of this, existing sites must be migrated before using the <code>0.30</code> version of pkldoc.</p>
</div>
<div class="paragraph">
<p>To migrate, run the one-time command <code>pkldoc --migrate</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="java-api-changes"><a class="anchor" href="#java-api-changes"></a><a class="link" href="#java-api-changes">Java API changes</a></h3>
<div class="sect3">
<h4 id="new-classes"><a class="anchor" href="#new-classes"></a><a class="link" href="#new-classes">New classes</a></h4>
<div class="paragraph">
<p>New classes are introduced to the Java API.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.pkl.core.PklBinaryDecoder</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-methods"><a class="anchor" href="#new-methods"></a><a class="link" href="#new-methods">New methods</a></h4>
<div class="paragraph">
<p>New methods are introduced to the Java API.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.pkl.core.Evaluator.evaluateExpressionPklBinary</code></p>
</li>
<li>
<p><code>org.pkl.core.EvaluatorBuilder.setTraceMode</code></p>
</li>
<li>
<p><code>org.pkl.core.EvaluatorBuilder.getTraceMode</code></p>
</li>
<li>
<p><code>org.pkl.config.java.Config.fromPklBinary</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="standard-library-changes"><a class="anchor" href="#standard-library-changes"></a><a class="link" href="#standard-library-changes">Standard Library changes</a></h3>
<div class="paragraph">
<p>New modules, properties, methods, classes and typealiases have been added to the standard library (<a href="https://github.com/apple/pkl/pull/1106">#1106</a>).</p>
</div>
<div class="sect3">
<h4 id="changes-to-pklbase"><a class="anchor" href="#changes-to-pklbase"></a><a class="link" href="#changes-to-pklbase">Changes to <code>pkl:base</code></a></h4>
<div class="paragraph">
<p>Additions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>New class: <a href="https://pkl-lang.org/package-docs/pkl/0.30.0/base/BaseValueRenderer"><code>BaseValueRenderer</code></a></p>
</li>
<li>
<p><a href="https://pkl-lang.org/package-docs/pkl/0.30.0/base/ValueRenderer"><code>ValueRenderer</code></a> (now a subclass of <a href="https://pkl-lang.org/package-docs/pkl/0.30.0/base/BaseValueRenderer"><code>BaseValueRenderer</code></a>)</p>
</li>
<li>
<p><a href="https://pkl-lang.org/package-docs/pkl/0.30.0/base/BytesRenderer"><code>BytesRenderer</code></a></p>
</li>
<li>
<p><a href="https://pkl-lang.org/package-docs/pkl/0.30.0/base/RenderDirective#bytes"><code>RenderDirective.bytes</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="additions-to-pklevaluatorsettings"><a class="anchor" href="#additions-to-pklevaluatorsettings"></a><a class="link" href="#additions-to-pklevaluatorsettings">Additions to <code>pkl:EvaluatorSettings</code></a></h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://pkl-lang.org/package-docs/pkl/0.30.0/EvaluatorSettings#traceMode"><code>traceMode</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="additions-to-pklreflect"><a class="anchor" href="#additions-to-pklreflect"></a><a class="link" href="#additions-to-pklreflect">Additions to <code>pkl:reflect</code></a></h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://pkl-lang.org/package-docs/pkl/0.30.0/reflect/Class#allMethods"><code>Class.allMethods</code></a></p>
</li>
<li>
<p><a href="https://pkl-lang.org/package-docs/pkl/0.30.0/reflect/Class#allProperties"><code>Class.allProperties</code></a></p>
</li>
<li>
<p><a href="https://pkl-lang.org/package-docs/pkl/0.30.0/reflect/Property#allAnnotations"><code>Propterty.allAnnotations</code></a></p>
</li>
<li>
<p><a href="https://pkl-lang.org/package-docs/pkl/0.30.0/reflect/Propterty#allModifiers"><code>Propterty.allModifiers</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-module-pklpklbinary"><a class="anchor" href="#new-module-pklpklbinary"></a><a class="link" href="#new-module-pklpklbinary">New module: <code>pkl:pklbinary</code></a></h4>
<div class="paragraph">
<p>The <code>pkl:pklbinary</code> standard library module is added.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pkl-repl-improvements"><a class="anchor" href="#pkl-repl-improvements"></a><a class="link" href="#pkl-repl-improvements"><code>pkl repl</code> improvements</a></h3>
<div class="paragraph">
<p>The REPL now handles interrupts (Ctrl-C) in a more user-friendly way (<a href="https://github.com/apple/pkl/pull/1188">#1188</a>).</p>
</div>
<div class="paragraph">
<p>Instead of exiting immediately, it behaves like other REPLs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the line is non-empty or in a continuation, the buffer is cleared.</p>
</li>
<li>
<p>If the line is empty, print a message with instructions on exiting the REPL.</p>
<div class="ulist">
<ul>
<li>
<p>If another interrupt is sent immediately after, exit.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="breaking-changes"><a class="anchor" href="#breaking-changes"></a><a class="link" href="#breaking-changes">Breaking Changes <span class="small">ðŸ’”</span></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Things to watch out for when upgrading.</p>
</div>
<div class="sect2">
<h3 id="binary-data-handling-yaml-parser"><a class="anchor" href="#binary-data-handling-yaml-parser"></a><a class="link" href="#binary-data-handling-yaml-parser">Binary data handling <code>yaml.Parser</code></a></h3>
<div class="paragraph">
<p><a href="https://yaml.org/type/binary.html">YAML binary scalars</a> are now parsed as <a href="https://pkl-lang.org/package-docs/pkl/0.30.0/base/Bytes"><code>Bytes</code></a> values.
Prior versions of Pkl parsed binary scalars as <a href="https://pkl-lang.org/package-docs/pkl/0.30.0/base/String"><code>String</code></a> values containing the base64-encoded binary data.</p>
</div>
</div>
<div class="sect2">
<h3 id="minimum-kotlin-version-bump"><a class="anchor" href="#minimum-kotlin-version-bump"></a><a class="link" href="#minimum-kotlin-version-bump">Minimum Kotlin version bump</a></h3>
<div class="paragraph">
<p>For users of Pkl&#8217;s Kotlin libraries, the minimum Kotlin version has been bumped to 2.1 (<a href="https://github.com/apple/pkl/pull/1232">#1232</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="new-base-module-names-basevaluerenderer-bytesrenderer"><a class="anchor" href="#new-base-module-names-basevaluerenderer-bytesrenderer"></a><a class="link" href="#new-base-module-names-basevaluerenderer-bytesrenderer">New base module names: <code>BaseValueRenderer</code>, <code>BytesRenderer</code></a></h3>
<div class="paragraph">
<p>Two new names are introduced to the base module: <code>BaseValueRenderer</code>, and <code>BytesRenderer</code>.
That means that any code that currently references these names on implicit <code>this</code> will break (<a href="https://github.com/apple/pkl/pull/1203">#1203</a>).</p>
</div>
<div class="paragraph">
<p>To learn more about how this breaks code and how to fix it, see <a href="0.29.html#new-base-module-names" class="xref page">New base module names</a> in 0.29&#8217;s release notes.</p>
</div>
</div>
<div class="sect2">
<h3 id="pkldoc-sites-need-to-be-migrated"><a class="anchor" href="#pkldoc-sites-need-to-be-migrated"></a><a class="link" href="#pkldoc-sites-need-to-be-migrated"><code>pkldoc</code> sites need to be migrated</a></h3>
<div class="paragraph">
<p>Due to breaking changes made in pkldoc&#8217;s data model, existing pkldoc websites must be migrated.</p>
</div>
<div class="paragraph">
<p>See <a href="#pkldoc-migration">Migration</a> for more details.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="miscellaneous"><a class="anchor" href="#miscellaneous"></a><a class="link" href="#miscellaneous">Miscellaneous <span class="small">ðŸ¸</span></a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Dependency updates (<a href="https://github.com/apple/pkl/pull/1184">#1184</a>, <a href="https://github.com/apple/pkl/pull/1225">#1225</a>, <a href="https://github.com/apple/pkl/pull/1226">#1226</a>, <a href="https://github.com/apple/pkl/pull/1228">#1228</a>).</p>
</li>
<li>
<p>Enforce Pkl formatting of stdlib (<a href="https://github.com/apple/pkl/pull/1236">#1236</a>, <a href="https://github.com/apple/pkl/pull/1253">#1253</a>, <a href="https://github.com/apple/pkl/pull/1258">#1258</a>, <a href="https://github.com/apple/pkl/pull/1278">#1278</a>, <a href="https://github.com/apple/pkl/pull/1279">#1279</a>).</p>
</li>
<li>
<p>Add internal IntelliJ plugin that&#8217;s meant to assist with development of the Pkl codebase itself (<a href="https://github.com/apple/pkl/pull/1248">#1248</a>).</p>
</li>
<li>
<p>Update CircleCI macOS instance type and Xcode version (<a href="https://github.com/apple/pkl/pull/1243">#1243</a>, <a href="https://github.com/apple/pkl/pull/1244">#1244</a>).</p>
</li>
<li>
<p>Disable multi-jdk testing when running on Windows ARM (<a href="https://github.com/apple/pkl/pull/1223">#1223</a>).</p>
</li>
<li>
<p>Refine documentation for class <code>Any</code> (<a href="https://github.com/apple/pkl/pull/1194">#1194</a>).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bugs-fixed"><a class="anchor" href="#bugs-fixed"></a><a class="link" href="#bugs-fixed">Bugs fixed <span class="small">ðŸœ</span></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following bugs have been fixed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Incorrect error message when refusing to read past root dir (<a href="https://github.com/apple/pkl/pull/1234">#1233</a>).</p>
</li>
<li>
<p>Unicode U+7FFF character (ç¿¿) incorrectly parsed as EOF (<a href="https://github.com/apple/pkl/pull/1251">#1251</a>).</p>
</li>
<li>
<p>Fallback certificates do not work in certain classloader setups (<a href="https://github.com/apple/pkl/pull/1198">#1199</a>).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributors"><a class="anchor" href="#contributors"></a><a class="link" href="#contributors">Contributors <span class="small">ðŸ™</span></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>We would like to thank the contributors to this release (in alphabetical order):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/bioball">@bioball</a></p>
</li>
<li>
<p><a href="https://github.com/HT154">@HT154</a></p>
</li>
<li>
<p><a href="https://github.com/netvl">@netvl</a></p>
</li>
<li>
<p><a href="https://github.com/spyoungtech">@spyoungtech</a></p>
</li>
<li>
<p><a href="https://github.com/srueg">@srueg</a></p>
</li>
<li>
<p><a href="https://github.com/ssalevan">@ssalevan</a></p>
</li>
<li>
<p><a href="https://github.com/stackoverflow">@stackoverflow</a></p>
</li>
</ul>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">Release Notes</a></span>
  <span class="next"><a href="0.29.html">0.29 Release Notes</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright Â© 2024-2025 Apple Inc. All rights reserved.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/site-support.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/tabs.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
