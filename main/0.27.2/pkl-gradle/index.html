<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gradle Plugin :: Pkl Docs</title>
    <link rel="canonical" href="https://pkl-lang.org/main/current/pkl-gradle/index.html">
    <link rel="prev" href="../pkl-doc/index.html">
    <link rel="next" href="../../../intellij/current/index.html">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="../../../_/css/site-extra.css">
<link rel="stylesheet" href="../../../_/css/search.css">
<link rel="stylesheet" href="../../../_/css/vendor/tabs.css">
<link rel="icon" type="image/svg+xml" href="../../../_/img/favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="../../../index.html"><img src="../../../_/img/favicon.svg" alt="Pkl" height="35" width="35"/></a>
        <a href="../../../index.html">Pkl</a>
        <span class="separator">//</span>
        <a href="../../../main/current/index.html">Docs</a>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
          <span></span>
          <span></span>
          <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Enter Search Term">
        </div>
      </div>
      <div class="navbar-end">
        <a class="navbar-item" href="../../../main/current/index.html">Language</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a href="../../../main/current/language-bindings.html" class="navbar-link">Bindings</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../main/current/java-binding/index.html">Java</a>
            <a class="navbar-item" href="../../../main/current/kotlin-binding/index.html">Kotlin</a>
            <a class="navbar-item" href="../../../swift/current/index.html">Swift</a>
            <a class="navbar-item" href="../../../go/current/index.html">Go</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a href="../../../main/current/integrations.html" class="navbar-link">Frameworks</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../spring/current/index.html">Spring (Boot)</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a href="../../../main/current/tools.html" class="navbar-link">Editors</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../intellij/current/index.html">IntelliJ</a>
            <a class="navbar-item" href="../../../neovim/current/index.html">Neovim</a>
            <a class="navbar-item" href="../../../vscode/current/index.html">VS Code</a>
            <a class="navbar-item" href="../../../lsp/current/index.html">Pkl Language Server</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a href="../../../main/current/resources.html" class="navbar-link">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/apple/pkl">GitHub</a>
            <a class="navbar-item" href="https://pkl-lang.org/package-docs/pkl/current/index.html">Standard Library</a>
            <a class="navbar-item" href="https://pkl-lang.org/package-docs/">Package Docs</a>
            <a class="navbar-item" href="../../../main/current/style-guide/index.html">Style Guide</a>
            <a class="navbar-item" href="../../../security.html">Security</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a href="../../../main/current/community.html" class="navbar-link">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/apple/pkl/discussions" target="_blank">GitHub Discussions</a>
            <a class="navbar-item" href="../../../blog/index.html">Blog</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="main" data-version="0.27.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Main Project</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction/index.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/use-cases.html">Use Cases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/concepts.html">Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/comparison.html">Comparison</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pkl-cli/index.html#installation">Installation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../language-tutorial/index.html">Tutorial</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../language-tutorial/01_basic_config.html">Basic Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../language-tutorial/02_filling_out_a_template.html">Filling out a Template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../language-tutorial/03_writing_a_template.html">Writing a Template</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../language.html">Language</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../language-reference/index.html">Language Reference</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../standard-library.html">Standard Library</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../language-bindings.html">Language Bindings</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../java-binding/index.html">Java</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../java-binding/codegen.html">Code Generator</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../pkl-core/index.html">pkl-core Library</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../java-binding/pkl-config-java.html">pkl-config-java Library</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../kotlin-binding/index.html">Kotlin</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kotlin-binding/codegen.html">Code Generator</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kotlin-binding/pkl-config-kotlin.html">pkl-config-kotlin Library</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../swift/current/index.html">Swift</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../go/current/index.html">Go</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../bindings-specification/index.html">Specification</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../bindings-specification/message-passing-api.html">Message Passing API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../bindings-specification/binary-encoding.html">Pkl Binary Encoding</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tools.html">Tools</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../pkl-cli/index.html">CLI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../pkl-doc/index.html">Pkldoc</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="index.html">Gradle Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Editor support</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../intellij/current/index.html">IntelliJ</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../vscode/current/index.html">VSCode</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../neovim/current/index.html">Neovim</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../evolution-and-roadmap.html">Evolution and Roadmap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../release-notes/index.html">Release Notes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/0.27.html">0.27 Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/0.26.html">0.26 Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/0.25.html">0.25 Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/changelog.html">Changelog</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Main Project</span>
    <span class="version">0.27.2</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../intellij/current/index.html">IntelliJ Plugin</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../intellij/current/index.html">0.32.0</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.31.1/index.html">0.31.1</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.30.1/index.html">0.30.1</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.29.0/index.html">0.29.0</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.28.0/index.html">0.28.0</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.27.0/index.html">0.27.0</a>
        </li>
        <li class="version">
          <a href="../../../intellij/0.26.0/index.html">0.26.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../../current/index.html">Main Project</a></div>
      <ul class="versions">
        <li class="version">
          <a href="../../latest/index.html">0.29.0-dev</a>
        </li>
        <li class="version is-latest">
          <a href="../../current/index.html">0.28.1</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">0.27.2</a>
        </li>
        <li class="version">
          <a href="../../0.26.3/index.html">0.26.3</a>
        </li>
        <li class="version">
          <a href="../../0.25.3/index.html">0.25.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../neovim/current/index.html">Neovim Plugin</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../neovim/current/index.html">0.6.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../blog/index.html">Pkl Blog</a></div>
    </li>
    <li class="component">
      <div class="title"><a href="../../../go/current/index.html">Pkl Go Bindings</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../go/current/index.html">0.10.0</a>
        </li>
        <li class="version">
          <a href="../../../go/0.9.0/index.html">0.9.0</a>
        </li>
        <li class="version">
          <a href="../../../go/0.8.0/index.html">0.8.0</a>
        </li>
        <li class="version">
          <a href="../../../go/0.7.0/index.html">0.7.0</a>
        </li>
        <li class="version">
          <a href="../../../go/0.6.0/index.html">0.6.0</a>
        </li>
        <li class="version">
          <a href="../../../go/0.5.3/index.html">0.5.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../lsp/current/index.html">Pkl Language Server</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lsp/current/index.html">0.2.0</a>
        </li>
        <li class="version">
          <a href="../../../lsp/0.1.2/index.html">0.1.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../swift/current/index.html">Pkl Swift Bindings</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../swift/current/index.html">0.4.1</a>
        </li>
        <li class="version">
          <a href="../../../swift/0.3.0/index.html">0.3.0</a>
        </li>
        <li class="version">
          <a href="../../../swift/0.2.3/index.html">0.2.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../index.html">ROOT</a></div>
    </li>
    <li class="component">
      <div class="title"><a href="../../../spring/current/index.html">Spring Boot Integration</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring/current/index.html">0.17.1</a>
        </li>
        <li class="version">
          <a href="../../../spring/0.16.0/index.html">0.16.0</a>
        </li>
        <li class="version">
          <a href="../../../spring/0.15.0/index.html">0.15.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../vscode/current/index.html">VS Code Extension</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../vscode/current/index.html">0.18.2</a>
        </li>
        <li class="version">
          <a href="../../../vscode/0.17.0/index.html">0.17.0</a>
        </li>
        <li class="version">
          <a href="../../../vscode/0.16.0/index.html">0.16.0</a>
        </li>
        <li class="version">
          <a href="../../../vscode/0.11.0/index.html">0.11.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Main Project</a></li>
    <li><a href="../tools.html">Tools</a></li>
    <li><a href="index.html">Gradle Plugin</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">0.27.2</button>
  <div class="version-menu">
    <a class="version" href="../../latest/pkl-gradle/index.html">0.29.0-dev</a>
    <a class="version" href="../../current/pkl-gradle/index.html">0.28.1</a>
    <a class="version is-current" href="index.html">0.27.2</a>
    <a class="version" href="../../0.26.3/pkl-gradle/index.html">0.26.3</a>
    <a class="version" href="../../0.25.3/pkl-gradle/index.html">0.25.3</a>
  </div>
</div>
<div class="edit-this-page"><a href="https://github.com/apple/pkl/edit/release/0.27/docs/modules/pkl-gradle/pages/index.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Page Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Gradle Plugin</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Gradle plugin offers the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#module-evaluation">Module evaluation</a></p>
</li>
<li>
<p><a href="#java-code-gen">Java code generation</a></p>
</li>
<li>
<p><a href="#kotlin-code-gen">Kotlin code generation</a></p>
</li>
<li>
<p><a href="#pkldoc-generation">Pkldoc generation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Plugin versions coincide with Pkl versions.
That is, plugin version <code>x.y.z</code> uses Pkl version <code>x.y.z</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation"><a class="anchor" href="#installation"></a><a class="link" href="#installation">Installation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Gradle plugin is available <a href="https://central.sonatype.com/artifact/org.pkl-lang/org.pkl-lang.gradle.plugin">from Maven Central</a>.
It requires Java 17 or higher and Gradle 8.1 or higher.
Earlier Gradle versions are not supported.</p>
</div>
<div class="paragraph">
<p>The plugin is applied as follows:</p>
</div>
<div id="tabs-1" class="openblock tabs is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="tabs-1-kotlin" class="tab">
<p>Kotlin</p>
</li>
<li id="tabs-1-groovy" class="tab">
<p>Groovy</p>
</li>
</ul>
</div>
<div id="tabs-1-kotlin--panel" class="tabpanel" aria-labelledby="tabs-1-kotlin">
<div class="listingblock">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">plugins {
  id("org.pkl-lang") version "0.27.2"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">settings.gradle.kts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">pluginManagement {
    repositories {
        mavenCentral()
    }
}</code></pre>
</div>
</div>
</div>
<div id="tabs-1-groovy--panel" class="tabpanel" aria-labelledby="tabs-1-groovy">
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">plugins {
  id "org.pkl-lang" version "0.27.2"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">settings.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">pluginManagement {
    repositories {
        mavenCentral()
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="module-evaluation"><a class="anchor" href="#module-evaluation"></a><a class="link" href="#module-evaluation">Module Evaluation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This feature integrates the <a href="../pkl-cli/index.html" class="xref page">Pkl evaluator</a> into Gradle builds.</p>
</div>
<div class="sect2">
<h3 id="usage"><a class="anchor" href="#usage"></a><a class="link" href="#usage">Usage</a></h3>
<div class="paragraph">
<p>To add an evaluator to the build, add a named configuration block inside <code>pkl.evaluators</code>:</p>
</div>
<div id="tabs-2" class="openblock tabs is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="tabs-2-build-gradle" class="tab">
<p>build.gradle</p>
</li>
<li id="tabs-2-build-gradle-kts" class="tab">
<p>build.gradle.kts</p>
</li>
</ul>
</div>
<div id="tabs-2-build-gradle--panel" class="tabpanel" aria-labelledby="tabs-2-build-gradle">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">pkl {
  evaluators {
    evalPkl {
      sourceModules.add(file("module1.pkl"))
      outputFile = layout.buildDirectory.file("module1.yaml")
      outputFormat = "yaml"
    }
  }
}</code></pre>
</div>
</div>
</div>
<div id="tabs-2-build-gradle-kts--panel" class="tabpanel" aria-labelledby="tabs-2-build-gradle-kts">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">pkl {
  evaluators {
    register("evalPkl") {
      sourceModules.add(file("module1.pkl"))
      outputFile.set(layout.buildDirectory.file("module1.yaml"))
      outputFormat.set("yaml")
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>For each declared evaluator, the Pkl plugin creates an equally named task.
Hence the above evaluator can be run with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell script hljs" data-lang="shell script">$ ./gradlew evalPkl</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a ready-to-go example with full source code,
see <a href="https://github.com/apple/pkl-jvm-examples/tree/main/build-eval">codegen-java</a> in the <em>pkl/pkl-examples</em> repository.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-options"><a class="anchor" href="#configuration-options"></a><a class="link" href="#configuration-options">Configuration Options</a></h3>
<details id="output-format">
<summary class="title">outputFormat: Property&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>"pcf"</code><br>
Example: <code>outputFormat = "yaml"</code><br>
The output format to generate.
The default output renderer for a module supports the following formats:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"json"</code></p>
</li>
<li>
<p><code>"jsonnet"</code></p>
</li>
<li>
<p><code>"pcf"</code></p>
</li>
<li>
<p><code>"plist"</code></p>
</li>
<li>
<p><code>"properties"</code></p>
</li>
<li>
<p><code>"textproto"</code></p>
</li>
<li>
<p><code>"xml"</code></p>
</li>
<li>
<p><code>"yaml"</code></p>
</li>
</ul>
</div>
</div>
</details>
<details id="output-file">
<summary class="title">outputFile: RegularFileProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>file("%{moduleDir}/%{moduleName}.%{outputFormat}")</code> (places output files next to the source modules)<br>
Example: <code>outputFile = layout.projectDirectory.file("config.yaml")</code><br>
The file path where the output file is placed.
Relative paths are resolved against the project directory.</p>
</div>
<div class="paragraph">
<p>If multiple source modules are given, placeholders can be used to map them to different output files.
The following placeholders are supported:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>%{moduleDir}</code></dt>
<dd>
<p>The directory path of the module, relative to the working directory.
Only available when evaluating file-based modules.</p>
</dd>
<dt class="hdlist1"><code>%{moduleName}</code></dt>
<dd>
<p>The simple module name as inferred from the module URI.
For hierarchical module URIs such as <code>file:///foo/bar/baz.pkl</code>, this is the last path segment without file extension.</p>
</dd>
<dt class="hdlist1"><code>%{outputFormat}</code></dt>
<dd>
<p>The requested output format.
Only available if <code>outputFormat</code> is set.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If multiple sources modules are mapped to the same output file, their outputs are concatenated.
By default, module outputs are separated with <code>---</code>, as in a YAML stream.
The separator can be customized using the <a href="#module-output-separator"><code>moduleOutputSeparator</code></a> option.</p>
</div>
</div>
</details>
<details id="multiple-file-output-dir">
<summary class="title">multipleFileOutputDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Example 1: <code>multipleFileOutputDir = layout.projectDirectory.dir("output")</code><br>
Example 2: <code>multipleFileOutputDir = layout.projectDirectory.file("%{moduleDir}/output")</code>
The directory where a module&#8217;s output files are placed.</p>
</div>
<div class="paragraph">
<p>Setting this option causes Pkl to evaluate a module&#8217;s <code>output.files</code> property
and write the files specified therein.
Within <code>output.files</code>, a key determines a file&#8217;s path relative to <code>multipleFileOutputDir</code>,
and a value determines the file&#8217;s contents.</p>
</div>
<div class="paragraph">
<p>This option cannot be used together with any of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#output-file">outputFile</a></p>
</li>
<li>
<p><a href="#expression">expression</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This option supports the same placeholders as <a href="#output-file">outputFile</a>.</p>
</div>
<div class="paragraph">
<p>For additional details, see <a href="../language-reference/index.html#multiple-file-output" class="xref page">Multiple File Output</a>
in the language reference.</p>
</div>
</div>
</details>
<details id="module-output-separator">
<summary class="title">moduleOutputSeparator: Property&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>"---"</code> (as in a YAML stream)<br>
The separator to use when multiple module outputs are written to the same file.</p>
</div>
</div>
</details>
<details id="expression">
<summary class="title">expression: Property&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: (none)<br>
Example: <code>expression = "topLevelProperty.subValue"</code><br>
The expression to be evaluated within the module.</p>
</div>
<div class="paragraph">
<p>This option causes Pkl to evaluate the provided expression instead of the module&#8217;s <code>output.text</code> or <code>output.files</code> properties.
The resulting value is then stringified, and written to the designated output file.</p>
</div>
<div class="paragraph">
<p>For example, consider the following Pkl module:</p>
</div>
<div class="listingblock">
<div class="title">my-pod.pkl</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-pkl hljs" data-lang="pkl"><span class="hljs-property">metadata</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-property">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;my-pod&quot;</span>
<span class="hljs-punctuation">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The expression <code>metadata.name</code> evaluates to text <code>my-pod</code>.</p>
</div>
</div>
</details>
<div class="paragraph">
<p>Common properties:</p>
</div>
<details>
<summary class="title">sourceModules: ListProperty&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[]</code><br>
Example 1: <code>sourceModules = ["module1.pkl", "module2.pkl"]</code><br>
Example 2: <code>sourceModules = fileTree("config").include("**/*.pkl")</code><br>
List of Pkl modules which are used for this operation.</p>
</div>
<div class="paragraph">
<p>This property accepts the following types to represent a module:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java.net.URI</code></p>
</li>
<li>
<p><code>java.io.File</code></p>
</li>
<li>
<p><code>java.nio.file.Path</code></p>
</li>
<li>
<p><code>java.net.URL</code></p>
</li>
<li>
<p><code>java.lang.CharSequence</code> - if the represented string looks like a URI (it contains a scheme), the input is treated as a URI. Otherwise, it is treated as a path. Relative paths are resolved against the project directory.</p>
</li>
<li>
<p><code>org.gradle.api.file.FileSystemLocation</code></p>
</li>
</ul>
</div>
</div>
</details>
<details>
<summary class="title">transitiveModules: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: [computed by pkl-gradle]<br>
Example 1: <code>transitiveModules.from files("module1.pkl", "module2.pkl")</code><br>
Example 2: <code>transitiveModules.from fileTree("config").include("**/*.pkl")</code><br></p>
</div>
<div class="paragraph">
<p>File paths of modules that are directly or indirectly used by source modules.</p>
</div>
<div class="paragraph">
<p>This property, along with <code>sourceModules</code>, is the set of input files used to determine whether this task is up-to-date or not.</p>
</div>
<div class="paragraph">
<p>By default, Pkl computes this property by analyzing the imports of the source modules.
Setting this property explicitly causes Pkl to skip the analyze imports step.</p>
</div>
<div class="paragraph">
<p>Including source modules in <code>transitiveModules</code> is permitted but not required.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">projectDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>projectDir = layout.projectDirectory.dir("pkl")</code><br>
Example 2: <code>projectDir.fileValue file("/some/absolute/path")</code></p>
</div>
<div class="paragraph">
<p>Directory where the project lives.</p>
</div>
<div class="paragraph">
<p>A project is a directory that contains a <code>PklProject</code> file, which is used to declare package dependencies, as well as common evaluator settings to be applied in the project.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, this is determined by searching up from the working directory for a directory that contains a <code>PklProject</code> file, until <code>evalRootDir</code> or the file system root is reached.</p>
</div>
</div>
</details>
<details>
<summary class="title">omitProjectSettings: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables loading evaluator settings from the PklProject file.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProject: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables all behavior related to projects.</p>
</div>
</div>
</details>
<details>
<summary class="title">settingsModule: Property&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>settingsModule = layout.projectDirectory.file("mySettings.pkl")</code><br>
The Pkl settings module to use.
This property accepts the same input types as the <code>sourceModules</code> property.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, <code>~/.pkl/settings.pkl</code> or defaults specified in the <code>pkl.settings</code> standard library module are used.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedModules: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["pkl:", "file:", "modulepath:", "https:", "repl:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedModules = ["file:"]</code><br>
URI patterns that determine which modules can be loaded and evaluated.
Patterns are matched against the beginning of module URIs.
(File paths have been converted to <code>file:</code> URLs at this stage.)
At least one pattern needs to match for a module to be loadable.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedResources: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["env:", "prop:", "modulepath:", "https:", "file:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedResources = ["env:", "prop:"]</code><br>
URL patterns that determine which external resources can be read.
Patterns are matched against the beginning of resource URLs.
At least one pattern needs to match for a resource to be readable.</p>
</div>
</div>
</details>
<details>
<summary class="title">environmentVariables: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code> (note that Gradle default differs from CLI default)<br>
Example 1: <code>environmentVariables = ["MY_VAR_1": "myValue1", "MY_VAR_2": "myValue2"]</code><br>
Example 2: <code>environmentVariables = System.getenv()</code><br>
Environment variables that can be read by Pkl code with <code>read("env:&lt;envVariableName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalRootDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>rootProject.layout.projectDirectory</code><br>
Example 1: <code>evalRootDir = layout.projectDirectory.dir("pkl-modules")</code><br>
Example 2: <code>evalRootDir.fileValue file("/some/absolute/path")</code><br></p>
</div>
<div class="paragraph">
<p>Root directory for <code>file:</code> modules and resources.
If non-null, access to file-based modules and resources is restricted to those located under the root directory.
Any symlinks are resolved before this check is performed.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalTimeout: Property&lt;java.time.Duration&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>evalTimeout = Duration.ofSeconds(10)</code><br>
Duration after which evaluation of a source module will be timed out.
Note that a timeout is treated the same as a program error in that any subsequent source modules will not be evaluated.</p>
</div>
</div>
</details>
<details>
<summary class="title">externalProperties: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code><br>
Example: <code>externalProperties = ["myProp1": "myValue1", "myProp2": "myValue2"]</code><br>
External properties that can be read by Pkl code with <code>read("prop:&lt;propertyName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">moduleCacheDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>moduleCacheDir = layout.buildDirectory.dir("pkl-module-cache")</code><br>
Example 2: <code>moduleCacheDir.fileValue file("/absolute/path/to/cache")</code><br>
The cache directory for storing packages.
If <code>null</code>, defaults to <code>~/.pkl/cache</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">color: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Format messages using ANSI color.</p>
</div>
</div>
</details>
<details>
<summary class="title">noCache: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Disable caching of packages.</p>
</div>
</div>
</details>
<details>
<summary class="title">modulePath: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>files()</code> (empty collection)<br>
Example: <code>modulePath.from files("dir1", "zip1.zip", "jar1.jar")</code><br>
The directories, ZIP archives, or JAR archives to search when resolving <code>modulepath:</code> URIs.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">proxy: Property&lt;URI&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>proxy = uri("http://proxy.example.com:1234")</code><br>
Configures HTTP connections to connect to the provided proxy address.
The URI must have scheme <code>http</code>, and may not contain anything other than a host and port.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProxy: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>noProxy = ["example.com", "169.254.0.0/16"]</code><br>
Hosts to which all connections should bypass the proxy.
Hosts can be specified by name, IP address, or IP range using <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation">CIDR notation</a>.</p>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tests"><a class="anchor" href="#tests"></a><a class="link" href="#tests">Tests</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This feature integrates the <a href="../pkl-cli/index.html#usage" class="xref page">Pkl test evaluator</a> into Gradle builds.</p>
</div>
<div class="sect2">
<h3 id="usage-2"><a class="anchor" href="#usage-2"></a><a class="link" href="#usage-2">Usage</a></h3>
<div class="paragraph">
<p>To add tests to the build, add a named configuration block inside <code>pkl.tests</code>:</p>
</div>
<div id="tabs-3" class="openblock tabs is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="tabs-3-build-gradle" class="tab">
<p>build.gradle</p>
</li>
<li id="tabs-3-build-gradle-kts" class="tab">
<p>build.gradle.kts</p>
</li>
</ul>
</div>
<div id="tabs-3-build-gradle--panel" class="tabpanel" aria-labelledby="tabs-3-build-gradle">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">pkl {
  tests {
    testPkl {
      sourceModules.add(files("module1_test.pkl", "module2_test.pkl"))
      junitReportsDir = layout.buildDirectory.dir("reports")
      overwrite = false
    }
  }
}</code></pre>
</div>
</div>
</div>
<div id="tabs-3-build-gradle-kts--panel" class="tabpanel" aria-labelledby="tabs-3-build-gradle-kts">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">pkl {
  tests {
    register("testPkl") {
      sourceModules.addAll(files("module1_test.pkl", "module2_test.pkl"))
      junitReportsDir.set(layout.buildDirectory.dir("reports"))
      overwrite.set(false)
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<details id="junit-reports-path">
<summary class="title">junitReportsDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>junitReportsDir = layout.buildDirectory.dir("reports")</code><br>
Whether and where to generate JUnit XML reports.</p>
</div>
</div>
</details>
<details id="overwrite">
<summary class="title">overwrite: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Whether to ignore expected example files and generate them again.</p>
</div>
</div>
</details>
<div class="paragraph">
<p>Common properties:</p>
</div>
<details>
<summary class="title">sourceModules: ListProperty&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[]</code><br>
Example 1: <code>sourceModules = ["module1.pkl", "module2.pkl"]</code><br>
Example 2: <code>sourceModules = fileTree("config").include("**/*.pkl")</code><br>
List of Pkl modules which are used for this operation.</p>
</div>
<div class="paragraph">
<p>This property accepts the following types to represent a module:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java.net.URI</code></p>
</li>
<li>
<p><code>java.io.File</code></p>
</li>
<li>
<p><code>java.nio.file.Path</code></p>
</li>
<li>
<p><code>java.net.URL</code></p>
</li>
<li>
<p><code>java.lang.CharSequence</code> - if the represented string looks like a URI (it contains a scheme), the input is treated as a URI. Otherwise, it is treated as a path. Relative paths are resolved against the project directory.</p>
</li>
<li>
<p><code>org.gradle.api.file.FileSystemLocation</code></p>
</li>
</ul>
</div>
</div>
</details>
<details>
<summary class="title">transitiveModules: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: [computed by pkl-gradle]<br>
Example 1: <code>transitiveModules.from files("module1.pkl", "module2.pkl")</code><br>
Example 2: <code>transitiveModules.from fileTree("config").include("**/*.pkl")</code><br></p>
</div>
<div class="paragraph">
<p>File paths of modules that are directly or indirectly used by source modules.</p>
</div>
<div class="paragraph">
<p>This property, along with <code>sourceModules</code>, is the set of input files used to determine whether this task is up-to-date or not.</p>
</div>
<div class="paragraph">
<p>By default, Pkl computes this property by analyzing the imports of the source modules.
Setting this property explicitly causes Pkl to skip the analyze imports step.</p>
</div>
<div class="paragraph">
<p>Including source modules in <code>transitiveModules</code> is permitted but not required.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">projectDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>projectDir = layout.projectDirectory.dir("pkl")</code><br>
Example 2: <code>projectDir.fileValue file("/some/absolute/path")</code></p>
</div>
<div class="paragraph">
<p>Directory where the project lives.</p>
</div>
<div class="paragraph">
<p>A project is a directory that contains a <code>PklProject</code> file, which is used to declare package dependencies, as well as common evaluator settings to be applied in the project.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, this is determined by searching up from the working directory for a directory that contains a <code>PklProject</code> file, until <code>evalRootDir</code> or the file system root is reached.</p>
</div>
</div>
</details>
<details>
<summary class="title">omitProjectSettings: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables loading evaluator settings from the PklProject file.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProject: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables all behavior related to projects.</p>
</div>
</div>
</details>
<details>
<summary class="title">settingsModule: Property&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>settingsModule = layout.projectDirectory.file("mySettings.pkl")</code><br>
The Pkl settings module to use.
This property accepts the same input types as the <code>sourceModules</code> property.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, <code>~/.pkl/settings.pkl</code> or defaults specified in the <code>pkl.settings</code> standard library module are used.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedModules: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["pkl:", "file:", "modulepath:", "https:", "repl:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedModules = ["file:"]</code><br>
URI patterns that determine which modules can be loaded and evaluated.
Patterns are matched against the beginning of module URIs.
(File paths have been converted to <code>file:</code> URLs at this stage.)
At least one pattern needs to match for a module to be loadable.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedResources: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["env:", "prop:", "modulepath:", "https:", "file:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedResources = ["env:", "prop:"]</code><br>
URL patterns that determine which external resources can be read.
Patterns are matched against the beginning of resource URLs.
At least one pattern needs to match for a resource to be readable.</p>
</div>
</div>
</details>
<details>
<summary class="title">environmentVariables: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code> (note that Gradle default differs from CLI default)<br>
Example 1: <code>environmentVariables = ["MY_VAR_1": "myValue1", "MY_VAR_2": "myValue2"]</code><br>
Example 2: <code>environmentVariables = System.getenv()</code><br>
Environment variables that can be read by Pkl code with <code>read("env:&lt;envVariableName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalRootDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>rootProject.layout.projectDirectory</code><br>
Example 1: <code>evalRootDir = layout.projectDirectory.dir("pkl-modules")</code><br>
Example 2: <code>evalRootDir.fileValue file("/some/absolute/path")</code><br></p>
</div>
<div class="paragraph">
<p>Root directory for <code>file:</code> modules and resources.
If non-null, access to file-based modules and resources is restricted to those located under the root directory.
Any symlinks are resolved before this check is performed.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalTimeout: Property&lt;java.time.Duration&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>evalTimeout = Duration.ofSeconds(10)</code><br>
Duration after which evaluation of a source module will be timed out.
Note that a timeout is treated the same as a program error in that any subsequent source modules will not be evaluated.</p>
</div>
</div>
</details>
<details>
<summary class="title">externalProperties: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code><br>
Example: <code>externalProperties = ["myProp1": "myValue1", "myProp2": "myValue2"]</code><br>
External properties that can be read by Pkl code with <code>read("prop:&lt;propertyName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">moduleCacheDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>moduleCacheDir = layout.buildDirectory.dir("pkl-module-cache")</code><br>
Example 2: <code>moduleCacheDir.fileValue file("/absolute/path/to/cache")</code><br>
The cache directory for storing packages.
If <code>null</code>, defaults to <code>~/.pkl/cache</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">color: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Format messages using ANSI color.</p>
</div>
</div>
</details>
<details>
<summary class="title">noCache: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Disable caching of packages.</p>
</div>
</div>
</details>
<details>
<summary class="title">modulePath: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>files()</code> (empty collection)<br>
Example: <code>modulePath.from files("dir1", "zip1.zip", "jar1.jar")</code><br>
The directories, ZIP archives, or JAR archives to search when resolving <code>modulepath:</code> URIs.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">proxy: Property&lt;URI&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>proxy = uri("http://proxy.example.com:1234")</code><br>
Configures HTTP connections to connect to the provided proxy address.
The URI must have scheme <code>http</code>, and may not contain anything other than a host and port.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProxy: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>noProxy = ["example.com", "169.254.0.0/16"]</code><br>
Hosts to which all connections should bypass the proxy.
Hosts can be specified by name, IP address, or IP range using <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation">CIDR notation</a>.</p>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="java-code-gen"><a class="anchor" href="#java-code-gen"></a><a class="link" href="#java-code-gen">Java Code Generation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This feature integrates the <a href="../java-binding/codegen.html" class="xref page">Java code generator</a> into Gradle builds.</p>
</div>
<div class="sect2">
<h3 id="usage-3"><a class="anchor" href="#usage-3"></a><a class="link" href="#usage-3">Usage</a></h3>
<div class="paragraph">
<p>To add a Java code generator to the build, add a named configuration block inside <code>pkl.javaCodeGenerators</code>:</p>
</div>
<div id="tabs-4" class="openblock tabs is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="tabs-4-build-gradle" class="tab">
<p>build.gradle</p>
</li>
<li id="tabs-4-build-gradle-kts" class="tab">
<p>build.gradle.kts</p>
</li>
</ul>
</div>
<div id="tabs-4-build-gradle--panel" class="tabpanel" aria-labelledby="tabs-4-build-gradle">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">pkl {
  javaCodeGenerators {
    genJava {
      sourceModules.addAll(files("Template1.pkl", "Template2.pkl"))
    }
  }
}</code></pre>
</div>
</div>
</div>
<div id="tabs-4-build-gradle-kts--panel" class="tabpanel" aria-labelledby="tabs-4-build-gradle-kts">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">pkl {
  javaCodeGenerators {
    register("genJava") {
      sourceModules.addAll(files("Template1.pkl", "Template2.pkl"))
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>To compile generated classes together with test code rather than main code, use <code>sourceSet = sourceSets.test</code>.</p>
</div>
<div class="paragraph">
<p>To generate getter methods instead of public final fields, use <code>generateGetters = true</code>.</p>
</div>
<div class="paragraph">
<p>For each declared Java code generator, the Pkl plugin creates an equally named task.
Hence, the above generator can be run with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell script hljs" data-lang="shell script">$ ./gradlew genJava</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a ready-to-go example with full source code,
see <a href="https://github.com/apple/pkl-jvm-examples/tree/main/codegen-java">codegen-java</a> in the <em>pkl/pkl-examples</em> repository.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-options-2"><a class="anchor" href="#configuration-options-2"></a><a class="link" href="#configuration-options-2">Configuration Options</a></h3>
<details>
<summary class="title">generateGetters: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Example: <code>generateGetters = true</code><br>
Whether to generate private final fields and public getter methods rather than public final fields.</p>
</div>
</div>
</details>
<details>
<summary class="title">preferJavaxInjectAnnotation: Boolean</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Example: <code>preferJavaxInjectAnnotation = true</code><br>
Whether to annotate constructor parameters with <code>@javax.inject.Named</code> instead of <code>@org.pkl.config.java.mapper.Named</code>.
If <code>true</code>, the generated code will have a compile dependency on <code>javax.inject:javax.inject:1</code>.</p>
</div>
</div>
</details>
<div class="paragraph">
<p>Common code generation properties:</p>
</div>
<details>
<summary class="title">indent: Property&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>"  "</code> (two spaces)<br>
Example: <code>indent = "\t"</code> (one tab)<br>
The characters to use for indenting generated source code.</p>
</div>
</div>
</details>
<details>
<summary class="title">outputDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>layout.buildDirectory.dir("generated/pkl/&lt;generator_name&gt;")</code><br>
Example: <code>outputDir = layout.projectDirectory.dir("src/main/pkl")</code><br>
The directory where generated classes are placed.</p>
</div>
<div class="paragraph">
<p>The default places generated sources within the build directory of the project, to avoid sources from being committed into the repository on accident.</p>
</div>
</div>
</details>
<details>
<summary class="title">sourceSet: Property&lt;SourceSet&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>sourceSets.main</code> (if it exists; no default otherwise)<br>
Example: <code>sourceSet = sourceSets.test</code><br>
The Gradle source set that generated code is compiled together with.</p>
</div>
<div class="paragraph">
<p>For the codegen tasks, the <code>modulePath</code> property defaults to the compilation classpath of this source set, as well as all of the source directories of the <code>resource</code> source directory set of this source set. This setup makes it possible to rely on modules defined in classpath dependencies of your project or in the resources of your project.</p>
</div>
<div class="paragraph">
<p>For projects which apply the <code>idea</code> plugin and are opened in IntelliJ IDEA, this option determines whether generated sources are marked as test sources (if the source set&#8217;s name contains the word "test") or regular sources (otherwise).</p>
</div>
</div>
</details>
<details>
<summary class="title">generateSpringBootConfig: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Example: <code>generateSpringBootConfig = true</code><br>
Whether to generate config classes for use with Spring Boot.</p>
</div>
</div>
</details>
<details>
<summary class="title">renames: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code><br>
Example: <code>renames = ["foo.": "com.example.foo.", "bar.Config": "com.example.bar.Config"]</code><br>
Allows to change default class and package names (derived from Pkl module names) in the generated code.</p>
</div>
<div class="paragraph">
<p>When you need the generated class or package names to be different from the default names derived from the Pkl module names, you can define a rename mapping, where the key is the original Pkl module name prefix, and the value is its replacement.
When you do, the generated code&#8217;s <code>package</code> declarations, class names, as well as file locations, will be modified according to this mapping.</p>
</div>
<div class="paragraph">
<p>The prefixes are replaced literally, which means that dots at the end are important.
If you want to rename packages only, in most cases, you must ensure that you have an ending dot on both sides of a mapping (except for an empty mapping, if you use it), otherwise you may get unexpected results:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>// Assuming the following mapping configuration:
renames = [
  "com.foo.": "x",  // Dot on the left only
  "org.bar": "y.",  // Dot on the right only
  "net.baz": "z"    // No dots
]

// The following renames will be made:
"com.foo.bar" -&gt; "xbar"       // Target prefix merged into the suffix
"org.bar.baz" -&gt; "y..baz"     // Double dot, invalid name
"net.baz.qux" -&gt; "z.qux"      // Looks okay, but...
"net.bazqux"  -&gt; "zqux"       // ...may cut the name in the middle.</pre>
</div>
</div>
<div class="paragraph">
<p>When computing the appropriate target name, the longest matching prefix is used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>// Assuming the following mapping configuration:
renames = [
  "com.foo.Main": "w.Main",
  "com.foo.": "x.",
  "com.": "y.",
  "": "z."
]

// The following renames will be made:
com.foo.Main -&gt; w.Main
com.foo.bar  -&gt; x.bar
com.baz.qux  -&gt; y.baz.qux
org.foo.bar  -&gt; z.org.foo.bar</pre>
</div>
</div>
<div class="paragraph">
<p>Keys in this mapping can be arbitrary strings, including an empty string.
Values must be valid dot-separated fully qualifed class name prefixes, possibly terminated by a dot.</p>
</div>
</div>
</details>
<div class="paragraph">
<p>Common properties:</p>
</div>
<details>
<summary class="title">sourceModules: ListProperty&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[]</code><br>
Example 1: <code>sourceModules = ["module1.pkl", "module2.pkl"]</code><br>
Example 2: <code>sourceModules = fileTree("config").include("**/*.pkl")</code><br>
List of Pkl modules which are used for this operation.</p>
</div>
<div class="paragraph">
<p>This property accepts the following types to represent a module:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java.net.URI</code></p>
</li>
<li>
<p><code>java.io.File</code></p>
</li>
<li>
<p><code>java.nio.file.Path</code></p>
</li>
<li>
<p><code>java.net.URL</code></p>
</li>
<li>
<p><code>java.lang.CharSequence</code> - if the represented string looks like a URI (it contains a scheme), the input is treated as a URI. Otherwise, it is treated as a path. Relative paths are resolved against the project directory.</p>
</li>
<li>
<p><code>org.gradle.api.file.FileSystemLocation</code></p>
</li>
</ul>
</div>
</div>
</details>
<details>
<summary class="title">transitiveModules: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: [computed by pkl-gradle]<br>
Example 1: <code>transitiveModules.from files("module1.pkl", "module2.pkl")</code><br>
Example 2: <code>transitiveModules.from fileTree("config").include("**/*.pkl")</code><br></p>
</div>
<div class="paragraph">
<p>File paths of modules that are directly or indirectly used by source modules.</p>
</div>
<div class="paragraph">
<p>This property, along with <code>sourceModules</code>, is the set of input files used to determine whether this task is up-to-date or not.</p>
</div>
<div class="paragraph">
<p>By default, Pkl computes this property by analyzing the imports of the source modules.
Setting this property explicitly causes Pkl to skip the analyze imports step.</p>
</div>
<div class="paragraph">
<p>Including source modules in <code>transitiveModules</code> is permitted but not required.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">projectDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>projectDir = layout.projectDirectory.dir("pkl")</code><br>
Example 2: <code>projectDir.fileValue file("/some/absolute/path")</code></p>
</div>
<div class="paragraph">
<p>Directory where the project lives.</p>
</div>
<div class="paragraph">
<p>A project is a directory that contains a <code>PklProject</code> file, which is used to declare package dependencies, as well as common evaluator settings to be applied in the project.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, this is determined by searching up from the working directory for a directory that contains a <code>PklProject</code> file, until <code>evalRootDir</code> or the file system root is reached.</p>
</div>
</div>
</details>
<details>
<summary class="title">omitProjectSettings: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables loading evaluator settings from the PklProject file.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProject: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables all behavior related to projects.</p>
</div>
</div>
</details>
<details>
<summary class="title">settingsModule: Property&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>settingsModule = layout.projectDirectory.file("mySettings.pkl")</code><br>
The Pkl settings module to use.
This property accepts the same input types as the <code>sourceModules</code> property.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, <code>~/.pkl/settings.pkl</code> or defaults specified in the <code>pkl.settings</code> standard library module are used.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedModules: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["pkl:", "file:", "modulepath:", "https:", "repl:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedModules = ["file:"]</code><br>
URI patterns that determine which modules can be loaded and evaluated.
Patterns are matched against the beginning of module URIs.
(File paths have been converted to <code>file:</code> URLs at this stage.)
At least one pattern needs to match for a module to be loadable.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedResources: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["env:", "prop:", "modulepath:", "https:", "file:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedResources = ["env:", "prop:"]</code><br>
URL patterns that determine which external resources can be read.
Patterns are matched against the beginning of resource URLs.
At least one pattern needs to match for a resource to be readable.</p>
</div>
</div>
</details>
<details>
<summary class="title">environmentVariables: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code> (note that Gradle default differs from CLI default)<br>
Example 1: <code>environmentVariables = ["MY_VAR_1": "myValue1", "MY_VAR_2": "myValue2"]</code><br>
Example 2: <code>environmentVariables = System.getenv()</code><br>
Environment variables that can be read by Pkl code with <code>read("env:&lt;envVariableName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalRootDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>rootProject.layout.projectDirectory</code><br>
Example 1: <code>evalRootDir = layout.projectDirectory.dir("pkl-modules")</code><br>
Example 2: <code>evalRootDir.fileValue file("/some/absolute/path")</code><br></p>
</div>
<div class="paragraph">
<p>Root directory for <code>file:</code> modules and resources.
If non-null, access to file-based modules and resources is restricted to those located under the root directory.
Any symlinks are resolved before this check is performed.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalTimeout: Property&lt;java.time.Duration&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>evalTimeout = Duration.ofSeconds(10)</code><br>
Duration after which evaluation of a source module will be timed out.
Note that a timeout is treated the same as a program error in that any subsequent source modules will not be evaluated.</p>
</div>
</div>
</details>
<details>
<summary class="title">externalProperties: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code><br>
Example: <code>externalProperties = ["myProp1": "myValue1", "myProp2": "myValue2"]</code><br>
External properties that can be read by Pkl code with <code>read("prop:&lt;propertyName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">moduleCacheDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>moduleCacheDir = layout.buildDirectory.dir("pkl-module-cache")</code><br>
Example 2: <code>moduleCacheDir.fileValue file("/absolute/path/to/cache")</code><br>
The cache directory for storing packages.
If <code>null</code>, defaults to <code>~/.pkl/cache</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">color: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Format messages using ANSI color.</p>
</div>
</div>
</details>
<details>
<summary class="title">noCache: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Disable caching of packages.</p>
</div>
</div>
</details>
<details>
<summary class="title">modulePath: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>files()</code> (empty collection)<br>
Example: <code>modulePath.from files("dir1", "zip1.zip", "jar1.jar")</code><br>
The directories, ZIP archives, or JAR archives to search when resolving <code>modulepath:</code> URIs.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">proxy: Property&lt;URI&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>proxy = uri("http://proxy.example.com:1234")</code><br>
Configures HTTP connections to connect to the provided proxy address.
The URI must have scheme <code>http</code>, and may not contain anything other than a host and port.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProxy: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>noProxy = ["example.com", "169.254.0.0/16"]</code><br>
Hosts to which all connections should bypass the proxy.
Hosts can be specified by name, IP address, or IP range using <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation">CIDR notation</a>.</p>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="kotlin-code-gen"><a class="anchor" href="#kotlin-code-gen"></a><a class="link" href="#kotlin-code-gen">Kotlin Code Generation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This feature integrates the <a href="../kotlin-binding/codegen.html" class="xref page">Kotlin code generator</a> into Gradle builds.</p>
</div>
<div class="sect2">
<h3 id="usage-4"><a class="anchor" href="#usage-4"></a><a class="link" href="#usage-4">Usage</a></h3>
<div class="paragraph">
<p>To add a Kotlin code generator to the build, add a named configuration block inside <code>pkl.kotlinCodeGenerators</code>:</p>
</div>
<div id="tabs-5" class="openblock tabs is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="tabs-5-build-gradle" class="tab">
<p>build.gradle</p>
</li>
<li id="tabs-5-build-gradle-kts" class="tab">
<p>build.gradle.kts</p>
</li>
</ul>
</div>
<div id="tabs-5-build-gradle--panel" class="tabpanel" aria-labelledby="tabs-5-build-gradle">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">pkl {
  kotlinCodeGenerators {
    genKotlin {
      sourceModules.addAll(files("Template1.pkl", "Template2.pkl"))
    }
  }
}</code></pre>
</div>
</div>
</div>
<div id="tabs-5-build-gradle-kts--panel" class="tabpanel" aria-labelledby="tabs-5-build-gradle-kts">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">pkl {
  kotlinCodeGenerators {
    register("genKotlin") {
      sourceModules.addAll(files("Template1.pkl", "Template2.pkl"))
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>To compile generated classes together with test code rather than main code, use <code>sourceSet = sourceSets.test</code>.</p>
</div>
<div class="paragraph">
<p>For each declared Kotlin code generator, the Pkl plugin creates an equally named task. Hence the above generator can be run with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell script hljs" data-lang="shell script">$ ./gradlew genKotlin</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a ready-to-go example with full source code,
see <a href="https://github.com/apple/pkl-jvm-examples/tree/main/codegen-kotlin">codegen-kotlin</a> in the <em>pkl/pkl-examples</em> repository.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-options-3"><a class="anchor" href="#configuration-options-3"></a><a class="link" href="#configuration-options-3">Configuration Options</a></h3>
<div class="paragraph">
<p>(None)</p>
</div>
<div class="paragraph">
<p>Common code generation properties:</p>
</div>
<details>
<summary class="title">indent: Property&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>"  "</code> (two spaces)<br>
Example: <code>indent = "\t"</code> (one tab)<br>
The characters to use for indenting generated source code.</p>
</div>
</div>
</details>
<details>
<summary class="title">outputDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>layout.buildDirectory.dir("generated/pkl/&lt;generator_name&gt;")</code><br>
Example: <code>outputDir = layout.projectDirectory.dir("src/main/pkl")</code><br>
The directory where generated classes are placed.</p>
</div>
<div class="paragraph">
<p>The default places generated sources within the build directory of the project, to avoid sources from being committed into the repository on accident.</p>
</div>
</div>
</details>
<details>
<summary class="title">sourceSet: Property&lt;SourceSet&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>sourceSets.main</code> (if it exists; no default otherwise)<br>
Example: <code>sourceSet = sourceSets.test</code><br>
The Gradle source set that generated code is compiled together with.</p>
</div>
<div class="paragraph">
<p>For the codegen tasks, the <code>modulePath</code> property defaults to the compilation classpath of this source set, as well as all of the source directories of the <code>resource</code> source directory set of this source set. This setup makes it possible to rely on modules defined in classpath dependencies of your project or in the resources of your project.</p>
</div>
<div class="paragraph">
<p>For projects which apply the <code>idea</code> plugin and are opened in IntelliJ IDEA, this option determines whether generated sources are marked as test sources (if the source set&#8217;s name contains the word "test") or regular sources (otherwise).</p>
</div>
</div>
</details>
<details>
<summary class="title">generateSpringBootConfig: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Example: <code>generateSpringBootConfig = true</code><br>
Whether to generate config classes for use with Spring Boot.</p>
</div>
</div>
</details>
<details>
<summary class="title">renames: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code><br>
Example: <code>renames = ["foo.": "com.example.foo.", "bar.Config": "com.example.bar.Config"]</code><br>
Allows to change default class and package names (derived from Pkl module names) in the generated code.</p>
</div>
<div class="paragraph">
<p>When you need the generated class or package names to be different from the default names derived from the Pkl module names, you can define a rename mapping, where the key is the original Pkl module name prefix, and the value is its replacement.
When you do, the generated code&#8217;s <code>package</code> declarations, class names, as well as file locations, will be modified according to this mapping.</p>
</div>
<div class="paragraph">
<p>The prefixes are replaced literally, which means that dots at the end are important.
If you want to rename packages only, in most cases, you must ensure that you have an ending dot on both sides of a mapping (except for an empty mapping, if you use it), otherwise you may get unexpected results:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>// Assuming the following mapping configuration:
renames = [
  "com.foo.": "x",  // Dot on the left only
  "org.bar": "y.",  // Dot on the right only
  "net.baz": "z"    // No dots
]

// The following renames will be made:
"com.foo.bar" -&gt; "xbar"       // Target prefix merged into the suffix
"org.bar.baz" -&gt; "y..baz"     // Double dot, invalid name
"net.baz.qux" -&gt; "z.qux"      // Looks okay, but...
"net.bazqux"  -&gt; "zqux"       // ...may cut the name in the middle.</pre>
</div>
</div>
<div class="paragraph">
<p>When computing the appropriate target name, the longest matching prefix is used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>// Assuming the following mapping configuration:
renames = [
  "com.foo.Main": "w.Main",
  "com.foo.": "x.",
  "com.": "y.",
  "": "z."
]

// The following renames will be made:
com.foo.Main -&gt; w.Main
com.foo.bar  -&gt; x.bar
com.baz.qux  -&gt; y.baz.qux
org.foo.bar  -&gt; z.org.foo.bar</pre>
</div>
</div>
<div class="paragraph">
<p>Keys in this mapping can be arbitrary strings, including an empty string.
Values must be valid dot-separated fully qualifed class name prefixes, possibly terminated by a dot.</p>
</div>
</div>
</details>
<div class="paragraph">
<p>Common properties:</p>
</div>
<details>
<summary class="title">sourceModules: ListProperty&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[]</code><br>
Example 1: <code>sourceModules = ["module1.pkl", "module2.pkl"]</code><br>
Example 2: <code>sourceModules = fileTree("config").include("**/*.pkl")</code><br>
List of Pkl modules which are used for this operation.</p>
</div>
<div class="paragraph">
<p>This property accepts the following types to represent a module:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java.net.URI</code></p>
</li>
<li>
<p><code>java.io.File</code></p>
</li>
<li>
<p><code>java.nio.file.Path</code></p>
</li>
<li>
<p><code>java.net.URL</code></p>
</li>
<li>
<p><code>java.lang.CharSequence</code> - if the represented string looks like a URI (it contains a scheme), the input is treated as a URI. Otherwise, it is treated as a path. Relative paths are resolved against the project directory.</p>
</li>
<li>
<p><code>org.gradle.api.file.FileSystemLocation</code></p>
</li>
</ul>
</div>
</div>
</details>
<details>
<summary class="title">transitiveModules: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: [computed by pkl-gradle]<br>
Example 1: <code>transitiveModules.from files("module1.pkl", "module2.pkl")</code><br>
Example 2: <code>transitiveModules.from fileTree("config").include("**/*.pkl")</code><br></p>
</div>
<div class="paragraph">
<p>File paths of modules that are directly or indirectly used by source modules.</p>
</div>
<div class="paragraph">
<p>This property, along with <code>sourceModules</code>, is the set of input files used to determine whether this task is up-to-date or not.</p>
</div>
<div class="paragraph">
<p>By default, Pkl computes this property by analyzing the imports of the source modules.
Setting this property explicitly causes Pkl to skip the analyze imports step.</p>
</div>
<div class="paragraph">
<p>Including source modules in <code>transitiveModules</code> is permitted but not required.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">projectDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>projectDir = layout.projectDirectory.dir("pkl")</code><br>
Example 2: <code>projectDir.fileValue file("/some/absolute/path")</code></p>
</div>
<div class="paragraph">
<p>Directory where the project lives.</p>
</div>
<div class="paragraph">
<p>A project is a directory that contains a <code>PklProject</code> file, which is used to declare package dependencies, as well as common evaluator settings to be applied in the project.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, this is determined by searching up from the working directory for a directory that contains a <code>PklProject</code> file, until <code>evalRootDir</code> or the file system root is reached.</p>
</div>
</div>
</details>
<details>
<summary class="title">omitProjectSettings: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables loading evaluator settings from the PklProject file.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProject: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables all behavior related to projects.</p>
</div>
</div>
</details>
<details>
<summary class="title">settingsModule: Property&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>settingsModule = layout.projectDirectory.file("mySettings.pkl")</code><br>
The Pkl settings module to use.
This property accepts the same input types as the <code>sourceModules</code> property.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, <code>~/.pkl/settings.pkl</code> or defaults specified in the <code>pkl.settings</code> standard library module are used.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedModules: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["pkl:", "file:", "modulepath:", "https:", "repl:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedModules = ["file:"]</code><br>
URI patterns that determine which modules can be loaded and evaluated.
Patterns are matched against the beginning of module URIs.
(File paths have been converted to <code>file:</code> URLs at this stage.)
At least one pattern needs to match for a module to be loadable.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedResources: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["env:", "prop:", "modulepath:", "https:", "file:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedResources = ["env:", "prop:"]</code><br>
URL patterns that determine which external resources can be read.
Patterns are matched against the beginning of resource URLs.
At least one pattern needs to match for a resource to be readable.</p>
</div>
</div>
</details>
<details>
<summary class="title">environmentVariables: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code> (note that Gradle default differs from CLI default)<br>
Example 1: <code>environmentVariables = ["MY_VAR_1": "myValue1", "MY_VAR_2": "myValue2"]</code><br>
Example 2: <code>environmentVariables = System.getenv()</code><br>
Environment variables that can be read by Pkl code with <code>read("env:&lt;envVariableName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalRootDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>rootProject.layout.projectDirectory</code><br>
Example 1: <code>evalRootDir = layout.projectDirectory.dir("pkl-modules")</code><br>
Example 2: <code>evalRootDir.fileValue file("/some/absolute/path")</code><br></p>
</div>
<div class="paragraph">
<p>Root directory for <code>file:</code> modules and resources.
If non-null, access to file-based modules and resources is restricted to those located under the root directory.
Any symlinks are resolved before this check is performed.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalTimeout: Property&lt;java.time.Duration&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>evalTimeout = Duration.ofSeconds(10)</code><br>
Duration after which evaluation of a source module will be timed out.
Note that a timeout is treated the same as a program error in that any subsequent source modules will not be evaluated.</p>
</div>
</div>
</details>
<details>
<summary class="title">externalProperties: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code><br>
Example: <code>externalProperties = ["myProp1": "myValue1", "myProp2": "myValue2"]</code><br>
External properties that can be read by Pkl code with <code>read("prop:&lt;propertyName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">moduleCacheDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>moduleCacheDir = layout.buildDirectory.dir("pkl-module-cache")</code><br>
Example 2: <code>moduleCacheDir.fileValue file("/absolute/path/to/cache")</code><br>
The cache directory for storing packages.
If <code>null</code>, defaults to <code>~/.pkl/cache</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">color: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Format messages using ANSI color.</p>
</div>
</div>
</details>
<details>
<summary class="title">noCache: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Disable caching of packages.</p>
</div>
</div>
</details>
<details>
<summary class="title">modulePath: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>files()</code> (empty collection)<br>
Example: <code>modulePath.from files("dir1", "zip1.zip", "jar1.jar")</code><br>
The directories, ZIP archives, or JAR archives to search when resolving <code>modulepath:</code> URIs.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">proxy: Property&lt;URI&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>proxy = uri("http://proxy.example.com:1234")</code><br>
Configures HTTP connections to connect to the provided proxy address.
The URI must have scheme <code>http</code>, and may not contain anything other than a host and port.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProxy: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>noProxy = ["example.com", "169.254.0.0/16"]</code><br>
Hosts to which all connections should bypass the proxy.
Hosts can be specified by name, IP address, or IP range using <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation">CIDR notation</a>.</p>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pkldoc-generation"><a class="anchor" href="#pkldoc-generation"></a><a class="link" href="#pkldoc-generation">Pkldoc generation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This features integrates the <a href="../pkl-doc/index.html" class="xref page">Pkldoc</a> generator into Gradle builds.</p>
</div>
<div class="sect2">
<h3 id="usage-5"><a class="anchor" href="#usage-5"></a><a class="link" href="#usage-5">Usage</a></h3>
<div class="paragraph">
<p>To add a Pkldoc generator to the build, add a named configuration block inside <code>pkl.pkldocGenerators</code>:</p>
</div>
<div id="tabs-6" class="openblock tabs is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="tabs-6-build-gradle" class="tab">
<p>build.gradle</p>
</li>
<li id="tabs-6-build-gradle-kts" class="tab">
<p>build.gradle.kts</p>
</li>
</ul>
</div>
<div id="tabs-6-build-gradle--panel" class="tabpanel" aria-labelledby="tabs-6-build-gradle">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">pkl {
  pkldocGenerators {
    pkldoc {
      sourceModules.addAll(files("doc-package-info.pkl", "Template1.pkl", "Template2.pkl"))
    }
  }
}</code></pre>
</div>
</div>
</div>
<div id="tabs-6-build-gradle-kts--panel" class="tabpanel" aria-labelledby="tabs-6-build-gradle-kts">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">pkl {
  pkldocGenerators {
    register("pkldoc") {
      sourceModules.addAll(files("doc-package-info.pkl", "Template1.pkl", "Template2.pkl"))
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>For each declared Pkldoc generator, the Pkl plugin creates an equally named task.
Hence, the above generator can be run with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell script hljs" data-lang="shell script">$ ./gradlew pkldoc</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a ready-to-go example with full source code,
see <a href="https://github.com/apple/pkl-jvm-examples/tree/main/pkldoc">pkldoc</a> in the <em>pkl/pkl-examples</em> repository.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-options-4"><a class="anchor" href="#configuration-options-4"></a><a class="link" href="#configuration-options-4">Configuration Options</a></h3>
<div class="paragraph">
<p>The following properties can be configured inside a Pkldoc generator&#8217;s configuration block:</p>
</div>
<details>
<summary class="title">outputDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>layout.buildDirectory.dir("pkldoc/&lt;generator_name&gt;")</code><br>
Example: <code>outputDir = layout.projectDirectory.dir("pkl-docs")</code><br>
The directory where generated documentation is placed.</p>
</div>
</div>
</details>
<div class="paragraph">
<p>Common properties:</p>
</div>
<details>
<summary class="title">sourceModules: ListProperty&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[]</code><br>
Example 1: <code>sourceModules = ["module1.pkl", "module2.pkl"]</code><br>
Example 2: <code>sourceModules = fileTree("config").include("**/*.pkl")</code><br>
List of Pkl modules which are used for this operation.</p>
</div>
<div class="paragraph">
<p>This property accepts the following types to represent a module:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java.net.URI</code></p>
</li>
<li>
<p><code>java.io.File</code></p>
</li>
<li>
<p><code>java.nio.file.Path</code></p>
</li>
<li>
<p><code>java.net.URL</code></p>
</li>
<li>
<p><code>java.lang.CharSequence</code> - if the represented string looks like a URI (it contains a scheme), the input is treated as a URI. Otherwise, it is treated as a path. Relative paths are resolved against the project directory.</p>
</li>
<li>
<p><code>org.gradle.api.file.FileSystemLocation</code></p>
</li>
</ul>
</div>
</div>
</details>
<details>
<summary class="title">transitiveModules: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: [computed by pkl-gradle]<br>
Example 1: <code>transitiveModules.from files("module1.pkl", "module2.pkl")</code><br>
Example 2: <code>transitiveModules.from fileTree("config").include("**/*.pkl")</code><br></p>
</div>
<div class="paragraph">
<p>File paths of modules that are directly or indirectly used by source modules.</p>
</div>
<div class="paragraph">
<p>This property, along with <code>sourceModules</code>, is the set of input files used to determine whether this task is up-to-date or not.</p>
</div>
<div class="paragraph">
<p>By default, Pkl computes this property by analyzing the imports of the source modules.
Setting this property explicitly causes Pkl to skip the analyze imports step.</p>
</div>
<div class="paragraph">
<p>Including source modules in <code>transitiveModules</code> is permitted but not required.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">projectDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>projectDir = layout.projectDirectory.dir("pkl")</code><br>
Example 2: <code>projectDir.fileValue file("/some/absolute/path")</code></p>
</div>
<div class="paragraph">
<p>Directory where the project lives.</p>
</div>
<div class="paragraph">
<p>A project is a directory that contains a <code>PklProject</code> file, which is used to declare package dependencies, as well as common evaluator settings to be applied in the project.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, this is determined by searching up from the working directory for a directory that contains a <code>PklProject</code> file, until <code>evalRootDir</code> or the file system root is reached.</p>
</div>
</div>
</details>
<details>
<summary class="title">omitProjectSettings: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables loading evaluator settings from the PklProject file.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProject: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables all behavior related to projects.</p>
</div>
</div>
</details>
<details>
<summary class="title">settingsModule: Property&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>settingsModule = layout.projectDirectory.file("mySettings.pkl")</code><br>
The Pkl settings module to use.
This property accepts the same input types as the <code>sourceModules</code> property.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, <code>~/.pkl/settings.pkl</code> or defaults specified in the <code>pkl.settings</code> standard library module are used.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedModules: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["pkl:", "file:", "modulepath:", "https:", "repl:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedModules = ["file:"]</code><br>
URI patterns that determine which modules can be loaded and evaluated.
Patterns are matched against the beginning of module URIs.
(File paths have been converted to <code>file:</code> URLs at this stage.)
At least one pattern needs to match for a module to be loadable.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedResources: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["env:", "prop:", "modulepath:", "https:", "file:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedResources = ["env:", "prop:"]</code><br>
URL patterns that determine which external resources can be read.
Patterns are matched against the beginning of resource URLs.
At least one pattern needs to match for a resource to be readable.</p>
</div>
</div>
</details>
<details>
<summary class="title">environmentVariables: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code> (note that Gradle default differs from CLI default)<br>
Example 1: <code>environmentVariables = ["MY_VAR_1": "myValue1", "MY_VAR_2": "myValue2"]</code><br>
Example 2: <code>environmentVariables = System.getenv()</code><br>
Environment variables that can be read by Pkl code with <code>read("env:&lt;envVariableName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalRootDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>rootProject.layout.projectDirectory</code><br>
Example 1: <code>evalRootDir = layout.projectDirectory.dir("pkl-modules")</code><br>
Example 2: <code>evalRootDir.fileValue file("/some/absolute/path")</code><br></p>
</div>
<div class="paragraph">
<p>Root directory for <code>file:</code> modules and resources.
If non-null, access to file-based modules and resources is restricted to those located under the root directory.
Any symlinks are resolved before this check is performed.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalTimeout: Property&lt;java.time.Duration&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>evalTimeout = Duration.ofSeconds(10)</code><br>
Duration after which evaluation of a source module will be timed out.
Note that a timeout is treated the same as a program error in that any subsequent source modules will not be evaluated.</p>
</div>
</div>
</details>
<details>
<summary class="title">externalProperties: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code><br>
Example: <code>externalProperties = ["myProp1": "myValue1", "myProp2": "myValue2"]</code><br>
External properties that can be read by Pkl code with <code>read("prop:&lt;propertyName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">moduleCacheDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>moduleCacheDir = layout.buildDirectory.dir("pkl-module-cache")</code><br>
Example 2: <code>moduleCacheDir.fileValue file("/absolute/path/to/cache")</code><br>
The cache directory for storing packages.
If <code>null</code>, defaults to <code>~/.pkl/cache</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">color: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Format messages using ANSI color.</p>
</div>
</div>
</details>
<details>
<summary class="title">noCache: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Disable caching of packages.</p>
</div>
</div>
</details>
<details>
<summary class="title">modulePath: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>files()</code> (empty collection)<br>
Example: <code>modulePath.from files("dir1", "zip1.zip", "jar1.jar")</code><br>
The directories, ZIP archives, or JAR archives to search when resolving <code>modulepath:</code> URIs.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">proxy: Property&lt;URI&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>proxy = uri("http://proxy.example.com:1234")</code><br>
Configures HTTP connections to connect to the provided proxy address.
The URI must have scheme <code>http</code>, and may not contain anything other than a host and port.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProxy: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>noProxy = ["example.com", "169.254.0.0/16"]</code><br>
Hosts to which all connections should bypass the proxy.
Hosts can be specified by name, IP address, or IP range using <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation">CIDR notation</a>.</p>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-package"><a class="anchor" href="#project-package"></a><a class="link" href="#project-package">Project packaging</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This feature is the Gradle analogy for the <a href="../pkl-cli/index.html#command-project-package" class="xref page">project package</a> command in the CLI.
It prepares package assets to be published from a project.</p>
</div>
<div class="paragraph">
<p>There are two differences between this feature and the CLI:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Input project directories are required (the CLI determines a project from the current working directory if arguments are omitted).</p>
</li>
<li>
<p>Output directory defaults to a path within the build directory.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="usage-6"><a class="anchor" href="#usage-6"></a><a class="link" href="#usage-6">Usage</a></h3>
<div id="tabs-7" class="openblock tabs is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="tabs-7-build-gradle" class="tab">
<p>build.gradle</p>
</li>
<li id="tabs-7-build-gradle-kts" class="tab">
<p>build.gradle.kts</p>
</li>
</ul>
</div>
<div id="tabs-7-build-gradle--panel" class="tabpanel" aria-labelledby="tabs-7-build-gradle">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">pkl {
  project {
    packagers {
      makePackages {
        projectDirectories.from(file("pkl-config/"))
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
<div id="tabs-7-build-gradle-kts--panel" class="tabpanel" aria-labelledby="tabs-7-build-gradle-kts">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">pkl {
  project {
    packagers {
      register("makePackages") {
        projectDirectories.from(file("pkl-config/"))
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>For each declared packager, the Pkl plugin creates an equally named task.
Hence, the above packager can be run with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ ./gradlew makePackages</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-options-5"><a class="anchor" href="#configuration-options-5"></a><a class="link" href="#configuration-options-5">Configuration Options</a></h3>
<details>
<summary class="title">projectDirectories: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: (none)<br>
Example: <code>projectDirectories.from(file("pkl-config/""))</code><br>
The project directories to create packages for.</p>
</div>
</div>
</details>
<details>
<summary class="title">skipPublishCheck: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: (false)<br>
Example: <code>skipPublishCheck.set(true)</code></p>
</div>
<div class="paragraph">
<p>Skips checking whether a package has already been published with different contents.</p>
</div>
<div class="paragraph">
<p>By default, the packager will check whether a package at the same version has already been published.
If the package has been published, it validates that the package&#8217;s metadata is identical to the locally generated metadata.</p>
</div>
</div>
</details>
<details>
<summary class="title">outputPath: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>project.getLayout().getBuildDirectory().dir("generated/pkl/packages")</code></p>
</div>
<div class="paragraph">
<p>The directory to write artifacts to.
Accepts the following placeholders:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>%{name}</code></dt>
<dd>
<p>The name of the package</p>
</dd>
<dt class="hdlist1"><code>%{version}</code></dt>
<dd>
<p>The version of the package</p>
</dd>
</dl>
</div>
</div>
</details>
<details>
<summary class="title">junitReportsDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>junitReportsDir = layout.buildDirectory.dir("reports")</code><br>
Whether and where to generate JUnit XML reports.</p>
</div>
</div>
</details>
<details>
<summary class="title">overwrite: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Whether to ignore expected example files and generate them again.</p>
</div>
</div>
</details>
<div class="paragraph">
<p>Common properties:</p>
</div>
<details>
<summary class="title">allowedModules: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["pkl:", "file:", "modulepath:", "https:", "repl:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedModules = ["file:"]</code><br>
URI patterns that determine which modules can be loaded and evaluated.
Patterns are matched against the beginning of module URIs.
(File paths have been converted to <code>file:</code> URLs at this stage.)
At least one pattern needs to match for a module to be loadable.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedResources: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["env:", "prop:", "modulepath:", "https:", "file:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedResources = ["env:", "prop:"]</code><br>
URL patterns that determine which external resources can be read.
Patterns are matched against the beginning of resource URLs.
At least one pattern needs to match for a resource to be readable.</p>
</div>
</div>
</details>
<details>
<summary class="title">environmentVariables: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code> (note that Gradle default differs from CLI default)<br>
Example 1: <code>environmentVariables = ["MY_VAR_1": "myValue1", "MY_VAR_2": "myValue2"]</code><br>
Example 2: <code>environmentVariables = System.getenv()</code><br>
Environment variables that can be read by Pkl code with <code>read("env:&lt;envVariableName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalRootDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>rootProject.layout.projectDirectory</code><br>
Example 1: <code>evalRootDir = layout.projectDirectory.dir("pkl-modules")</code><br>
Example 2: <code>evalRootDir.fileValue file("/some/absolute/path")</code><br></p>
</div>
<div class="paragraph">
<p>Root directory for <code>file:</code> modules and resources.
If non-null, access to file-based modules and resources is restricted to those located under the root directory.
Any symlinks are resolved before this check is performed.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalTimeout: Property&lt;java.time.Duration&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>evalTimeout = Duration.ofSeconds(10)</code><br>
Duration after which evaluation of a source module will be timed out.
Note that a timeout is treated the same as a program error in that any subsequent source modules will not be evaluated.</p>
</div>
</div>
</details>
<details>
<summary class="title">externalProperties: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code><br>
Example: <code>externalProperties = ["myProp1": "myValue1", "myProp2": "myValue2"]</code><br>
External properties that can be read by Pkl code with <code>read("prop:&lt;propertyName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">moduleCacheDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>moduleCacheDir = layout.buildDirectory.dir("pkl-module-cache")</code><br>
Example 2: <code>moduleCacheDir.fileValue file("/absolute/path/to/cache")</code><br>
The cache directory for storing packages.
If <code>null</code>, defaults to <code>~/.pkl/cache</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">color: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Format messages using ANSI color.</p>
</div>
</div>
</details>
<details>
<summary class="title">noCache: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Disable caching of packages.</p>
</div>
</div>
</details>
<details>
<summary class="title">modulePath: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>files()</code> (empty collection)<br>
Example: <code>modulePath.from files("dir1", "zip1.zip", "jar1.jar")</code><br>
The directories, ZIP archives, or JAR archives to search when resolving <code>modulepath:</code> URIs.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">proxy: Property&lt;URI&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>proxy = uri("http://proxy.example.com:1234")</code><br>
Configures HTTP connections to connect to the provided proxy address.
The URI must have scheme <code>http</code>, and may not contain anything other than a host and port.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProxy: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>noProxy = ["example.com", "169.254.0.0/16"]</code><br>
Hosts to which all connections should bypass the proxy.
Hosts can be specified by name, IP address, or IP range using <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation">CIDR notation</a>.</p>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-resolving"><a class="anchor" href="#project-resolving"></a><a class="link" href="#project-resolving">Project Resolving</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This feature is the Gradle analogy for the <a href="../pkl-cli/index.html#command-project-resolve" class="xref page">project resolve</a> command in the CLI.
It takes the dependencies of a project, and writes the resolved versions a file at path <code>PklProject.deps.json</code>, within the root directory of the project.</p>
</div>
<div class="sect2">
<h3 id="usage-7"><a class="anchor" href="#usage-7"></a><a class="link" href="#usage-7">Usage</a></h3>
<div id="tabs-8" class="openblock tabs is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="tabs-8-build-gradle" class="tab">
<p>build.gradle</p>
</li>
<li id="tabs-8-build-gradle-kts" class="tab">
<p>build.gradle.kts</p>
</li>
</ul>
</div>
<div id="tabs-8-build-gradle--panel" class="tabpanel" aria-labelledby="tabs-8-build-gradle">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">pkl {
  project {
    resolvers {
      resolvePklDeps {
        projectDirectories.from(file("pkl-config/"))
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
<div id="tabs-8-build-gradle-kts--panel" class="tabpanel" aria-labelledby="tabs-8-build-gradle-kts">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">pkl {
  project {
    resolvers {
      register("resolvePklDeps") {
        projectDirectories.from(file("pkl-config/"))
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>For each declared resolver, the Pkl plugin creates an equally named task.
Hence, the above resolver can be run with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ ./gradlew resolvePklDeps</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-options-6"><a class="anchor" href="#configuration-options-6"></a><a class="link" href="#configuration-options-6">Configuration Options</a></h3>
<details>
<summary class="title">projectDirectories: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: (none)<br>
Example: <code>projectDirectories.from(file("pkl-config/""))</code><br>
The project directories to create packages for.</p>
</div>
</div>
</details>
<div class="paragraph">
<p>Common properties:</p>
</div>
<details>
<summary class="title">allowedModules: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["pkl:", "file:", "modulepath:", "https:", "repl:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedModules = ["file:"]</code><br>
URI patterns that determine which modules can be loaded and evaluated.
Patterns are matched against the beginning of module URIs.
(File paths have been converted to <code>file:</code> URLs at this stage.)
At least one pattern needs to match for a module to be loadable.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedResources: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["env:", "prop:", "modulepath:", "https:", "file:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedResources = ["env:", "prop:"]</code><br>
URL patterns that determine which external resources can be read.
Patterns are matched against the beginning of resource URLs.
At least one pattern needs to match for a resource to be readable.</p>
</div>
</div>
</details>
<details>
<summary class="title">environmentVariables: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code> (note that Gradle default differs from CLI default)<br>
Example 1: <code>environmentVariables = ["MY_VAR_1": "myValue1", "MY_VAR_2": "myValue2"]</code><br>
Example 2: <code>environmentVariables = System.getenv()</code><br>
Environment variables that can be read by Pkl code with <code>read("env:&lt;envVariableName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalRootDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>rootProject.layout.projectDirectory</code><br>
Example 1: <code>evalRootDir = layout.projectDirectory.dir("pkl-modules")</code><br>
Example 2: <code>evalRootDir.fileValue file("/some/absolute/path")</code><br></p>
</div>
<div class="paragraph">
<p>Root directory for <code>file:</code> modules and resources.
If non-null, access to file-based modules and resources is restricted to those located under the root directory.
Any symlinks are resolved before this check is performed.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalTimeout: Property&lt;java.time.Duration&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>evalTimeout = Duration.ofSeconds(10)</code><br>
Duration after which evaluation of a source module will be timed out.
Note that a timeout is treated the same as a program error in that any subsequent source modules will not be evaluated.</p>
</div>
</div>
</details>
<details>
<summary class="title">externalProperties: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code><br>
Example: <code>externalProperties = ["myProp1": "myValue1", "myProp2": "myValue2"]</code><br>
External properties that can be read by Pkl code with <code>read("prop:&lt;propertyName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">moduleCacheDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>moduleCacheDir = layout.buildDirectory.dir("pkl-module-cache")</code><br>
Example 2: <code>moduleCacheDir.fileValue file("/absolute/path/to/cache")</code><br>
The cache directory for storing packages.
If <code>null</code>, defaults to <code>~/.pkl/cache</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">color: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Format messages using ANSI color.</p>
</div>
</div>
</details>
<details>
<summary class="title">noCache: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Disable caching of packages.</p>
</div>
</div>
</details>
<details>
<summary class="title">modulePath: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>files()</code> (empty collection)<br>
Example: <code>modulePath.from files("dir1", "zip1.zip", "jar1.jar")</code><br>
The directories, ZIP archives, or JAR archives to search when resolving <code>modulepath:</code> URIs.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">proxy: Property&lt;URI&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>proxy = uri("http://proxy.example.com:1234")</code><br>
Configures HTTP connections to connect to the provided proxy address.
The URI must have scheme <code>http</code>, and may not contain anything other than a host and port.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProxy: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>noProxy = ["example.com", "169.254.0.0/16"]</code><br>
Hosts to which all connections should bypass the proxy.
Hosts can be specified by name, IP address, or IP range using <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation">CIDR notation</a>.</p>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="analyze-imports"><a class="anchor" href="#analyze-imports"></a><a class="link" href="#analyze-imports">Analyze Imports</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This feature is the Gradle analogy for the <a href="../pkl-cli/index.html#command-analyze-imports" class="xref page">analyze imports</a> command in the CLI. It builds a graph of imports of the provided source modules.</p>
</div>
<div class="sect2">
<h3 id="usage-8"><a class="anchor" href="#usage-8"></a><a class="link" href="#usage-8">Usage</a></h3>
<div id="tabs-9" class="openblock tabs is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="tabs-9-build-gradle" class="tab">
<p>build.gradle</p>
</li>
<li id="tabs-9-build-gradle-kts" class="tab">
<p>build.gradle.kts</p>
</li>
</ul>
</div>
<div id="tabs-9-build-gradle--panel" class="tabpanel" aria-labelledby="tabs-9-build-gradle">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">pkl {
  analyzers {
    imports {
      appConfig {
        sourceModules.add(file("src/main/resources/appConfig.pkl"))
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
<div id="tabs-9-build-gradle-kts--panel" class="tabpanel" aria-labelledby="tabs-9-build-gradle-kts">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">pkl {
  analyzers {
    imports {
      register("appConfig") {
        sourceModules.add(file("src/main/resources/appConfig.pkl"))
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-options-7"><a class="anchor" href="#configuration-options-7"></a><a class="link" href="#configuration-options-7">Configuration Options</a></h3>
<details>
<summary class="title">outputFormat: Property&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Same meaning as <a href="#output-format">outputFormat</a> in <a href="#module-evaluation">Module Evaluation</a>.</p>
</div>
</div>
</details>
<details>
<summary class="title">outputFile: RegularFileProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Same meaning as <a href="#output-file">outputFile</a> in <a href="#module-evaluation">Module Evaluation</a>.</p>
</div>
</div>
</details>
<div class="paragraph">
<p>Common properties:</p>
</div>
<details>
<summary class="title">sourceModules: ListProperty&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[]</code><br>
Example 1: <code>sourceModules = ["module1.pkl", "module2.pkl"]</code><br>
Example 2: <code>sourceModules = fileTree("config").include("**/*.pkl")</code><br>
List of Pkl modules which are used for this operation.</p>
</div>
<div class="paragraph">
<p>This property accepts the following types to represent a module:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java.net.URI</code></p>
</li>
<li>
<p><code>java.io.File</code></p>
</li>
<li>
<p><code>java.nio.file.Path</code></p>
</li>
<li>
<p><code>java.net.URL</code></p>
</li>
<li>
<p><code>java.lang.CharSequence</code> - if the represented string looks like a URI (it contains a scheme), the input is treated as a URI. Otherwise, it is treated as a path. Relative paths are resolved against the project directory.</p>
</li>
<li>
<p><code>org.gradle.api.file.FileSystemLocation</code></p>
</li>
</ul>
</div>
</div>
</details>
<details>
<summary class="title">transitiveModules: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: [computed by pkl-gradle]<br>
Example 1: <code>transitiveModules.from files("module1.pkl", "module2.pkl")</code><br>
Example 2: <code>transitiveModules.from fileTree("config").include("**/*.pkl")</code><br></p>
</div>
<div class="paragraph">
<p>File paths of modules that are directly or indirectly used by source modules.</p>
</div>
<div class="paragraph">
<p>This property, along with <code>sourceModules</code>, is the set of input files used to determine whether this task is up-to-date or not.</p>
</div>
<div class="paragraph">
<p>By default, Pkl computes this property by analyzing the imports of the source modules.
Setting this property explicitly causes Pkl to skip the analyze imports step.</p>
</div>
<div class="paragraph">
<p>Including source modules in <code>transitiveModules</code> is permitted but not required.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">projectDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>projectDir = layout.projectDirectory.dir("pkl")</code><br>
Example 2: <code>projectDir.fileValue file("/some/absolute/path")</code></p>
</div>
<div class="paragraph">
<p>Directory where the project lives.</p>
</div>
<div class="paragraph">
<p>A project is a directory that contains a <code>PklProject</code> file, which is used to declare package dependencies, as well as common evaluator settings to be applied in the project.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, this is determined by searching up from the working directory for a directory that contains a <code>PklProject</code> file, until <code>evalRootDir</code> or the file system root is reached.</p>
</div>
</div>
</details>
<details>
<summary class="title">omitProjectSettings: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables loading evaluator settings from the PklProject file.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProject: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Disables all behavior related to projects.</p>
</div>
</div>
</details>
<details>
<summary class="title">settingsModule: Property&lt;Object&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>settingsModule = layout.projectDirectory.file("mySettings.pkl")</code><br>
The Pkl settings module to use.
This property accepts the same input types as the <code>sourceModules</code> property.</p>
</div>
<div class="paragraph">
<p>If <code>null</code>, <code>~/.pkl/settings.pkl</code> or defaults specified in the <code>pkl.settings</code> standard library module are used.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedModules: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["pkl:", "file:", "modulepath:", "https:", "repl:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedModules = ["file:"]</code><br>
URI patterns that determine which modules can be loaded and evaluated.
Patterns are matched against the beginning of module URIs.
(File paths have been converted to <code>file:</code> URLs at this stage.)
At least one pattern needs to match for a module to be loadable.</p>
</div>
</div>
</details>
<details>
<summary class="title">allowedResources: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>["env:", "prop:", "modulepath:", "https:", "file:", "package:", "projectpackage:"]</code><br>
Example: <code>allowedResources = ["env:", "prop:"]</code><br>
URL patterns that determine which external resources can be read.
Patterns are matched against the beginning of resource URLs.
At least one pattern needs to match for a resource to be readable.</p>
</div>
</div>
</details>
<details>
<summary class="title">environmentVariables: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code> (note that Gradle default differs from CLI default)<br>
Example 1: <code>environmentVariables = ["MY_VAR_1": "myValue1", "MY_VAR_2": "myValue2"]</code><br>
Example 2: <code>environmentVariables = System.getenv()</code><br>
Environment variables that can be read by Pkl code with <code>read("env:&lt;envVariableName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalRootDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>rootProject.layout.projectDirectory</code><br>
Example 1: <code>evalRootDir = layout.projectDirectory.dir("pkl-modules")</code><br>
Example 2: <code>evalRootDir.fileValue file("/some/absolute/path")</code><br></p>
</div>
<div class="paragraph">
<p>Root directory for <code>file:</code> modules and resources.
If non-null, access to file-based modules and resources is restricted to those located under the root directory.
Any symlinks are resolved before this check is performed.</p>
</div>
</div>
</details>
<details>
<summary class="title">evalTimeout: Property&lt;java.time.Duration&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>evalTimeout = Duration.ofSeconds(10)</code><br>
Duration after which evaluation of a source module will be timed out.
Note that a timeout is treated the same as a program error in that any subsequent source modules will not be evaluated.</p>
</div>
</div>
</details>
<details>
<summary class="title">externalProperties: MapProperty&lt;String, String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>[:]</code><br>
Example: <code>externalProperties = ["myProp1": "myValue1", "myProp2": "myValue2"]</code><br>
External properties that can be read by Pkl code with <code>read("prop:&lt;propertyName&gt;")</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">moduleCacheDir: DirectoryProperty</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example 1: <code>moduleCacheDir = layout.buildDirectory.dir("pkl-module-cache")</code><br>
Example 2: <code>moduleCacheDir.fileValue file("/absolute/path/to/cache")</code><br>
The cache directory for storing packages.
If <code>null</code>, defaults to <code>~/.pkl/cache</code>.</p>
</div>
</div>
</details>
<details>
<summary class="title">color: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Format messages using ANSI color.</p>
</div>
</div>
</details>
<details>
<summary class="title">noCache: Property&lt;Boolean&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>false</code><br>
Disable caching of packages.</p>
</div>
</div>
</details>
<details>
<summary class="title">modulePath: ConfigurableFileCollection</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>files()</code> (empty collection)<br>
Example: <code>modulePath.from files("dir1", "zip1.zip", "jar1.jar")</code><br>
The directories, ZIP archives, or JAR archives to search when resolving <code>modulepath:</code> URIs.
Relative paths are resolved against the project directory.</p>
</div>
</div>
</details>
<details>
<summary class="title">proxy: Property&lt;URI&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>proxy = uri("http://proxy.example.com:1234")</code><br>
Configures HTTP connections to connect to the provided proxy address.
The URI must have scheme <code>http</code>, and may not contain anything other than a host and port.</p>
</div>
</div>
</details>
<details>
<summary class="title">noProxy: ListProperty&lt;String&gt;</summary>
<div class="content">
<div class="paragraph">
<p>Default: <code>null</code><br>
Example: <code>noProxy = ["example.com", "169.254.0.0/16"]</code><br>
Hosts to which all connections should bypass the proxy.
Hosts can be specified by name, IP address, or IP range using <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation">CIDR notation</a>.</p>
</div>
</div>
</details>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../pkl-doc/index.html">Pkldoc</a></span>
  <span class="next"><a href="../../../intellij/current/index.html">IntelliJ</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright © 2024-2025 Apple Inc. All rights reserved.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/site-support.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/tabs.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
